<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Lukas Woodtli">
    <meta name="author" content="Lukas Woodtli">

        <title>Modern C++&nbsp;Design · Lukas Woodtli</title>


    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">

    <link rel="stylesheet" href="http://bootswatch.com/yeti/bootstrap.min.css" type="text/css">

    <link rel="stylesheet" href="http://lukaswoodtli.github.io/theme/css/main.css">

    <link rel="stylesheet" href="http://lukaswoodtli.github.io/theme/css/solarized-light.css">


    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="container" id="wrap">
      <nav id="navbar" class="navbar navbar-default" role="navigation">
    <div class="container">

      <!--navbar-header-->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://lukaswoodtli.github.io">Lukas Woodtli</a>
      </div> <!--navbar-header-->

      <!-- Search Box -->

      <!--Menuitems, collapable-->
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right" id="menuitem-list">
                <li >
                  <a href="http://lukaswoodtli.github.io/index.html">Home</a>
                </li>

                <li >
                  <a href="http://lukaswoodtli.github.io/pages/resume.html">Resume</a>
                </li>

              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Skills<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/skills.html">Hard Skills</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/courses.html">Courses</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/books.html">Books</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/projects.html">Projects</a>
                  </li>
                </ul>
              </li>
              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Blog<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/blog.html">Blog Index</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/categories.html">Categories</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/tags.html">Tags</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/archives.html">Chronological</a>
                  </li>
                </ul>
              </li>
                <li >
                  <a href="http://lukaswoodtli.github.io/pages/contact.html">Contact</a>
                </li>

        </ul>
      </div><!-- /.navbar-collapse -->

    </div> <!--container-->
  </nav>


    <div class="container">
      <div class="col-md-2">
      </div>

      <div class="col-md-8">
        <div class="row">
              <div class="page-header">
        <h1><a href="http://lukaswoodtli.github.io/modern_cpp_design.html">Modern C++&nbsp;Design</a></h1>
    </div>

        </div>

        <div class="row">

    <span id="article_info">
    <a class="label label-primary" 
      href="http://lukaswoodtli.github.io/category/programming.html">Programming</a>
      <b> · </b>
        <a class="label label-primary" 
          href="http://lukaswoodtli.github.io/tag/cpp.html">C++</a>
    <!--<span class="glyphicon glyphicon-calendar"></span>-->
      <b> · </b>
      <a href="http://lukaswoodtli.github.io/archives.html#Year2017">2017</a>-<a href="http://lukaswoodtli.github.io/archives.html#Year2017Month02">02</a>-<a href="http://lukaswoodtli.github.io/archives.html#Year2017Month02">03</a>

    <!--<span class="glyphicon glyphicon-user"></span>-->
      <b> · </b>
    <a href="http://lukaswoodtli.github.io/author/lukas-woodtli.html">Lukas Woodtli</a>
  </span>

  <hr/>

  <div id="article_content">
    <h1 id="part-i-techniques">Part I. Techniques</h1>
<h2 id="policy-based-class-design">Policy-Based Class Design</h2>
<h3 id="the-benefit-of-templates">The Benefit of Templates</h3>
<p><em><span class="dquo">“</span>Templates are a good candidate for coping with combinatorial behaviors because they generate code at compile time based on the types (and/or constant values) provided by the user.
Class templates are customizable in ways not supported by regular classes.”</em></p>
<p><em><span class="dquo">“</span>Furthermore, for class templates you can use partial template specialization […]. Partial template specialization gives you the ability to specialize a class template for only some of its arguments.”</em></p>
<p><em><span class="dquo">“</span>[…] several problems that are not self-evident:</em></p>
<ol>
<li><em>You cannot specialize structure. Using templates alone, you cannot specialize the structure of a class (its data members). You can only specialize functions.</em></li>
<li><em>Partial specialization of member functions does not scale. You can specialize any member function of a class template with one template parameter, but you cannot specialize individual member functions for templates with multiple template parameters.</em></li>
<li><em><span class="dquo">“</span>The library writer cannot provide multiple default values. At best, a class template implementer can provide a single default implementation for each member function. You cannot provide several defaults for a template member function.”</em></li>
</ol>
<p>Member functions can be only fully specialized:</p>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span> 
<span class="k">class</span> <span class="nc">Widget</span> <span class="p">{</span> 
    <span class="kt">void</span> <span class="n">Fun</span><span class="p">()</span> <span class="p">{</span> <span class="p">..</span> <span class="n">generic</span> <span class="n">implementation</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// ok: specialization allowed</span>
<span class="k">template</span> <span class="o">&lt;&gt;</span>
<span class="kt">void</span> <span class="n">Widget</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;::</span><span class="n">Fun</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="n">specialized</span> <span class="n">implementation</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
<p>Partial specialization is not allowed:</p>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">Gadget</span> <span class="p">{</span>
    <span class="kt">void</span> <span class="n">Fun</span><span class="p">()</span> <span class="p">{</span> <span class="p">..</span> <span class="n">generic</span> <span class="n">implementation</span> <span class="p">...</span> <span class="p">}</span> 
<span class="p">};</span>

<span class="c1">// error: member functions can't be specialized partially</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">Gadget</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="n">U</span><span class="o">&gt;::</span><span class="n">Fun</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="n">specialized</span> <span class="n">implementation</span> <span class="p">...</span> <span class="p">}</span>
</pre></div>
<h3 id="policies-and-policy-classes">Policies and Policy Classes</h3>
<p><em><span class="dquo">“</span>A <strong>policy</strong> defines a class interface or a class template interface. The interface consists of one or all of the following: inner type definitions, member functions, and member variables.”</em></p>
<p><em><span class="dquo">“</span>Policies have much in common with <strong>traits</strong> but differ in that they put less emphasis on type and more emphasis on behavior. Also, policies are reminiscent of the <strong>Strategy design pattern</strong>, with the twist that policies are bound at compilation time.”</em></p>
<p><em><span class="dquo">“</span>For a given policy, there can be an unlimited number of implementations. The implementations of a policy are called <strong>policy classes</strong>”</em></p>
<p><em><span class="dquo">“</span>Policy classes are not intended for stand-alone use […]”</em></p>
<p><em><span class="dquo">“</span>Policies are syntax oriented, not signature oriented.”</em></p>
<p><em><span class="dquo">“</span>[A] policy does not specify that [a member function] must be static or virtual—the only requirement is that the class template define a [coresponding (with the expected signature)] member function.”</em></p>
<p><em><span class="dquo">“</span>The classes that use one or more policies are called <strong>hosts</strong> or <strong>host classes</strong>”</em></p>
<h3 id="implementing-policy-classes-with-template-template-parameters">Implementing Policy Classes with Template Template Parameters</h3>
<p><em><span class="dquo">“</span>Library code can use template template parameters for specifying policies”</em></p>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Created</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">CreationPolicy</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">WidgetManager</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CreationPolicy</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span> <span class="p">{</span> 
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
<p><em><span class="dquo">“</span>The <code>Created</code> symbol does not contribute to the definition of <code>WidgetManager</code>. You cannot use <code>Created</code> inside <code>WidgetManager</code> - it is a formal argument for <code>CreationPolicy</code> (not <code>WidgetManager</code>) and can be simply omitted.”</em></p>
<p><em><span class="dquo">“</span>First, you can change policies <strong>from the outside</strong> as easily as changing a template argument […]. Second, you can provide your own policies that are specific to your concrete application.”</em></p>
<p><em><span class="dquo">“</span>[The author might] provide a default template argument for the policy that’s most commonly used:”</em></p>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">template</span> <span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">CreationPolicy</span> <span class="o">=</span> <span class="n">OpNewCreator</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">WidgetManager</span> <span class="p">...</span>
</pre></div>
<p><em><span class="dquo">“</span>Policies are quite different from mere virtual functions. […] policies come with […] static binding.”</em></p>
<p><em><span class="dquo">“</span>policies’ features also make them <strong>unsuitable</strong> for <strong>dynamic binding</strong> and <strong>binary interfaces</strong>, so in essence policies and classic interfaces do not compete.”</em></p>
<h3 id="destructors-of-policy-classes">Destructors of Policy Classes</h3>
<p><em><span class="dquo">“</span>Defining a virtual destructor for a policy […] works against its static nature and hurts performance.”</em></p>
<p><em><span class="dquo">“</span>The lightweight, effective solution that policies should use is to define a <strong>nonvirtual protected destructor</strong>”</em></p>
<h3 id="optional-functionality-through-incomplete-instantiation">Optional Functionality Through Incomplete Instantiation</h3>
<p><em><span class="dquo">“</span>If a member function of a class template is never used, it is not even instantiated - the compiler does not look at it at all, except perhaps for syntax checking. This gives the host class a chance to specify and use optional features of a policy class.”</em></p>
<h3 id="combining-policy-classes">Combining Policy Classes</h3>
<p><em><span class="dquo">“</span>The greatest usefulness of policies is apparent when you combine them. Typically, a highly configurable class uses several policies for various aspects of its workings. Then the library user selects the desired high-level behavior by combining several policy classes.”</em></p>
<h3 id="decomposing-a-class-into-policies">Decomposing a Class into Policies</h3>
<p><em><span class="dquo">“</span>[To] decompose the functionality of a class in policies. The rule of thumb is to identify and name the design decisions that take part in a class’s behavior. Anything that can be done in more than one way should be identified and migrated from the class to a policy. Don’t forget: Design constraints buried in a class’s design are as bad as magic constants buried in code.”</em></p>
<p><em><span class="dquo">“</span>When you decompose a class in policies, it is very important to find an orthogonal decomposition. An orthogonal decomposition yields policies that are completely independent of each other. You can easily spot a nonorthogonal decomposition when various policies need to know about each other.”</em></p>
<h3 id="summary">Summary</h3>
<p><em><span class="dquo">“</span>The mechanics of policies consist of a combination of templates with multiple inheritance. A class that uses policies - a host class - is a template with many template parameters (often, template template parameters), each parameter being a policy. The host class “indirects” parts of its functionality through its policies and acts as a receptacle that combines several policies in a coherent aggregate.”</em></p>
<p><em><span class="dquo">“</span>Policy-based classes support flexibility when it comes to conversions. If you use policy-by-policy copying, each policy can control which other policies it accepts, or converts to, by providing the appropriate conversion constructors, conversion operators, or both.”</em></p>
<p><em><span class="dquo">“</span>Two important guidelines.”</em></p>
<ol>
<li><em><span class="dquo">“</span>One is to localize, name, and isolate design decisions in your class - things that are subject to a trade-off or could be sensibly implemented in various ways.”</em></li>
<li><em><span class="dquo">“</span>The other guideline is to look for orthogonal policies, that is, policies that don’t need to interact with each other and that can be changed independently.”</em></li>
</ol>
<h2 id="techniques">Techniques</h2>
<h3 id="partial-template-specialization">Partial Template Specialization</h3>
<p><em><span class="dquo">“</span>In a partial specialization of a class template, you specify only some of the template arguments and leave the other ones generic.”</em></p>
<p><em><span class="dquo">“</span>When you instantiate a template, the compiler does a pattern matching of existing partial and total specializations to find the best candidate; this gives you enormous flexibility.”</em></p>
<p><em><span class="dquo">“</span>Unfortunately, partial template specialization does not apply to functions - be they member or nonmember - which somewhat reduces the flexibility and the granularity of what you can do.”</em></p>
<ul>
<li><em><span class="dquo">“</span>Although you can totally specialize member functions of a class template, you <strong>cannot partially specialize member functions</strong>.”</em></li>
<li><em><span class="dquo">“</span>You cannot partially specialize namespace-level (nonmember) template functions. The closest thing to partial specialization for namespace-level template functions is overloading. For practical purposes, this means that you have fine-grained specialization abilities only for the <strong>function parameters</strong> - <strong>not</strong> for the <strong>return value</strong> or for internally used types.”</em></li>
</ul>
<p>Overloading is the closest to partial specialization for functions:</p>
<div class="highlight"><pre><span></span><span class="c1">// primary template</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">,</span> <span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span>
<span class="n">T</span> <span class="n">Fun</span><span class="p">(</span><span class="n">U</span> <span class="n">obj</span><span class="p">);</span>

<span class="c1">// illegal partial specialization</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span> 
<span class="kt">void</span> <span class="n">Fun</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">,</span> <span class="n">U</span><span class="o">&gt;</span><span class="p">(</span><span class="n">U</span> <span class="n">obj</span><span class="p">);</span>

<span class="c1">// specialization legal (overloading)</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
<span class="n">T</span> <span class="n">Fun</span> <span class="p">(</span><span class="n">Window</span> <span class="n">obj</span><span class="p">);</span>
</pre></div>
<h3 id="local-classes">Local Classes</h3>
<p>Local (nested) classes can be used (defined) inside of template functions:</p>
<p><em><span class="dquo">“</span>What makes local classes truly interesting is that you can use them in template functions. Local classes defined inside template functions can use the template parameters of the enclosing function.”</em></p>
<p><em><span class="dquo">“</span>Local classes do have a unique feature, though: They are <strong>final</strong>. Outside users cannot derive from a class hidden in a function.”</em></p>
<h3 id="detecting-convertibility-and-inheritance-at-compile-time">Detecting Convertibility and Inheritance at Compile Time</h3>
<p>See also <a href="http://en.cppreference.com/w/cpp/language/sfinae"><span class="caps">SFINAE</span></a></p>
<p><em><span class="dquo">“</span>How can we write a function that accepts ‘anything else’? […] We need a match that’s ‘worse’ than an automatic conversion - that is, a conversion that kicks in if and only if there’s no automatic conversion. A quick look through the conversion rules applied for a function call yields the ellipsis match, which is the worst of all - the bottom of the list”</em></p>
<p><em><span class="dquo">“</span>Passing a C++ object to a function with ellipses has undefined results, but this doesn’t matter. Nothing actually calls the function. It’s not even implemented. Recall that sizeof does not evaluate its argument.)”</em></p>
<p>See also: <a href="https://stackoverflow.com/questions/3634564/type-safety-by-using-the-ellipsis-notation/3634934#3634934">stackoverflow</a></p>
<p><em><span class="dquo">“</span>[…] how much you can do with functions […], that not only don’t do anything but don’t even really exist at all [(just declared but not defined)]?”</em></p>
<p><em><span class="dquo">“</span>If template code applies const twice (to a type that’s already const), the second const is ignored.”</em></p>
<h3 id="optimized-parameter-types">Optimized Parameter Types</h3>
<p><em><span class="dquo">“</span>A detail that must be carefully handled is that C++ does not allow references to references. Thus, if <code>T</code> is already a reference, you should not add one more reference to it.”</em></p>
<h2 id="typelists">Typelists</h2>
<p><em><span class="dquo">“</span>templates cannot have a variable number of parameters”</em></p>
<p><em><span class="dquo">“</span>virtual functions cannot be templates”</em></p>
<h3 id="intermezzo">Intermezzo</h3>
<p>About “meta functions” (like <code>Length</code>) for <code>Typelist</code>s that are implemented in a functional way:</p>
<p><em><span class="dquo">“</span>Couldn’t we develop a version of Length that’s iterative, instead of recursive? After all, iteration is more natural to C++ than recursion.”</em></p>
<p><em><span class="dquo">“</span>template specialization [..] provide the equivalent of if statements at compile time.”</em></p>
<p><em><span class="dquo">“</span>All compile-time values are <strong>immutable</strong>. After you’ve defined an integral constant, say an enumerated value, you cannot change it (that is, assign another value to it).”</em></p>
<p><em><span class="dquo">“</span>Type definitions (<code>typedef</code>s) can be seen as introducing named type constants. Again, after definition, they are frozen - you cannot later redefine a <code>typedef</code>d symbol to hold another type.”</em></p>
<h3 id="erasing-a-type-from-a-typelist">Erasing a Type from a Typelist</h3>
<p><em><span class="dquo">“</span>[If] there is no default version of [a] template […] you can instantiate [it] only with certain types.”</em></p>
<h1 id="components">Components</h1>
<h2 id="generalized-functors">Generalized Functors</h2>
<p><em><span class="dquo">“</span>Generalized functors, [are] a powerful abstraction that allows decoupled interobject communication.”</em></p>
<ul>
<li><em><span class="dquo">“</span><strong>Encapsulates</strong> any processing invocation”</em></li>
<li><em><span class="dquo">“</span>Is <strong>typesafe</strong>”</em></li>
<li><em><span class="dquo">“</span>Is an <strong>object with value semantics</strong>: copying, assignment, and pass by value, does not expose virtual member functions”</em></li>
<li><em><span class="dquo">“</span>Can store state and invoke member functions”</em></li>
</ul>
<p><em><span class="dquo">“</span>Two important aspects of the Command pattern:</em></p>
<ul>
<li><em>Interface separation. The invoker is isolated from the receiver.</em></li>
<li><em>Time separation. Command stores a ready-to-go processing request that’s to be started later.</em>”</li>
</ul>
<h3 id="c-callable-entities">C++ Callable Entities</h3>
<p><em><span class="dquo">“</span>In addition to simple callbacks [function pointers], C++ defines many more entities that support the function-call operator. Let’s enumerate all the things that support <code>operator()</code> in C++.”</em></p>
<ul>
<li><em><span class="dquo">“</span>C-like functions”</em></li>
<li><em><span class="dquo">“</span>C-like pointers to functions”</em></li>
<li><em><span class="dquo">“</span>References to functions (which essentially act like const pointers to functions)”</em></li>
<li><em><span class="dquo">“</span>Functors, that is, objects that define an <code>operator()</code><span class="dquo">“</span></em></li>
<li><em><span class="dquo">“</span>The result of applying <code>operator.*</code> or <code>operator-&gt;*</code> having a pointer to a member function in the right-hand side of the expression”</em></li>
</ul>
<p><em><span class="dquo">“</span>You can add a pair of parentheses to the right of any of the enumerated items, put an appropriate list of arguments inside, and get some processing done. No other objects in C++ allow this except the ones just listed.”</em> (before C++11)</p>
<h3 id="the-functor-class-template-skeleton">The Functor Class Template Skeleton</h3>
<p><em><span class="dquo">“</span>In C++ a bald pointer to a polymorphic type does not strictly have first-class semantics because of the ownership issue.”</em></p>
<p><em><span class="dquo">“</span>C++ does not instantiate member functions for templates until they are <strong>actually used</strong>.”</em></p>
<h3 id="handling-functors">Handling Functors</h3>
<div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">R</span><span class="p">,</span> <span class="k">class</span> <span class="nc">TList</span><span class="o">&gt;</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Fun</span><span class="o">&gt;</span> 
<span class="n">Functor</span><span class="o">&lt;</span><span class="n">R</span><span class="p">,</span> <span class="n">TList</span><span class="o">&gt;::</span><span class="n">Functor</span><span class="p">(</span><span class="k">const</span> <span class="n">Fun</span><span class="o">&amp;</span> <span class="n">fun</span><span class="p">)</span> 
  <span class="o">:</span> <span class="n">spImpl_</span><span class="p">(</span><span class="k">new</span> <span class="n">FunctorHandler</span><span class="o">&lt;</span><span class="n">Functor</span><span class="p">,</span> <span class="n">Fun</span><span class="o">&gt;</span><span class="p">(</span><span class="n">fun</span><span class="p">))</span>
<span class="p">{</span> <span class="p">}</span>
</pre></div>
<p><em><span class="dquo">“</span>The two template parameter sets are necessary: The <code>template &lt;typename R, class TList&gt;</code> stands for the class template <code>Functor</code>, and <code>template &lt;typename Fun&gt;</code> stands for the parameter that the constructor itself takes. […] is known as an ‘out-of-class member template definition’.”</em></p>
<h3 id="argument-and-return-type-conversions">Argument and Return Type Conversions</h3>
<p><em><span class="dquo">“</span>Template processing predates compiling, allowing you to operate at source-code level. In object-oriented programming, in contrast, the power comes from late (after compilation) binding of names to values. Thus, object-oriented programming fosters reuse in the form of binary components, whereas generic programming fosters reuse at the source-code level. […] The two techniques complement each other.”</em></p>
<p><em><span class="dquo">“</span>pointers to member functions and their two related operators - <code>.*</code> and <code>-&gt;*</code> - reveals strange features. There is no C++ type for the result of <code>geronimo.*pActivity</code> and <code>pGeronimo-&gt;*pActivity</code>. Both are binary operators [that] return something to which you can apply the function-call operator immediately, but that ‘something’ does not have a type.”</em></p>
<p><em><span class="dquo">“</span>The standard says, ‘If the result of <code>.*</code> or <code>-&gt;*</code> is a function, then that result can be used only as the operand for the function call <code>operator()</code>.”</em></p>
<p><em><span class="dquo">“</span>You cannot store the result of <code>operator.*</code> or <code>operator-&gt;*</code> in any way, although there is an entity that holds the fusion between your object and the pointer to a member function”</em></p>
<p><em><span class="dquo">“</span>pointers to member functions and the two related operators are a curiously half-baked concept in C++. And by the way, you cannot have references to member functions (although you can have references to regular functions).”</em></p>
  </div>

  <hr/>

      <ul class="pager">
        <li class="previous">
          <a href="http://lukaswoodtli.github.io/unix_device_files.html">
          &laquo; Newer</a>
        </li>
        <li class="next">
          <a href="http://lukaswoodtli.github.io/structure_and_interpretation_of_computer_programs.html">
          Older &raquo;</a>
        </li>
      </ul>


        </div>

        <div class="row">
        </div>

      </div>

      <div class="col-md-2">
      </div>
    </div>


  </div>

    <nav id="footer" class="navbar navbar-default">
    <div class="container">
        <p id="footer-text" class="navbar-text text-center">
          <span id="engine">
            Compiled using
            <a href="http://docs.getpelican.com">Pelican</a>
          </span>
          <span id="theme">
            with theme
            <a href="http://github.com/yuex/pelican-chameleon">Chameleon</a>
          </span>
          <span id="bootstrap">
            on top of
            <a href="http://getbootstrap.com/">Bootstrap</a>
          </span>
        </p>
      </div>
    </div>
  </nav>


</body>
</html>