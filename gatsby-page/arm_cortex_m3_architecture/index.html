<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="viewport" content="initial-scale=1, width=device-width"/><meta data-rh="true" name="description" content="This page collects my notes about the Cortex-M3 architecture.
In particular I use the EFM32TG840F32 processor on a STK3300 starter kit by
Silicon Labs. Most…"/><meta data-rh="true" name="googlebot" content="index,follow"/><meta data-rh="true" name="robots" content="index,follow"/><meta name="generator" content="Gatsby 4.12.1"/><style data-href="/styles.b6e5382e858e0f485d06.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box;line-height:1.8}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:outside}table{border-collapse:collapse;border-spacing:.25rem;display:block;margin-bottom:var(--spacing-8);width:100%}table>thead>tr>th,td{word-wrap:break-word;align-items:center;border-bottom:1px solid var(--color-accent);flex:1 1;min-height:48px;overflow:hidden;padding:0 24px}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.document-wrapper{display:block;padding:4% 4% 0;width:95%}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio p,.bio-avatar{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:outside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style data-emotion="css-global 0"></style><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 17xcwyf 1ekb41w 1ev4ah9 15kjgm 1l0625b co2nuf vli43w 132oeye 1ontqvh 1tsvksn zq6grw 1iuj5ih 1uwabd6 yb0lig n085mf 1ns5f5t 1spz1bj hcgus0 g65o49 39bbo6 1yo8bqd 9l3uo3 tuxzvu 1wxaqej 10f1en8 9iedg7 ayb3n0 wk4je1 12hl9jz 39nlm1">.css-17xcwyf{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:1100;top:0;left:auto;right:0;background-color:#1976d2;color:#fff;z-index:1201;}@media print{.css-17xcwyf{position:absolute;}}.css-1ekb41w{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1ekb41w{padding-left:24px;padding-right:24px;}}@media (min-width:1536px){.css-1ekb41w{max-width:1536px;}}.css-1ev4ah9{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:56px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}@media (min-width:0px) and (orientation: landscape){.css-1ev4ah9{min-height:48px;}}@media (min-width:600px){.css-1ev4ah9{min-height:64px;}}.css-15kjgm{margin:0;color:#1976d2;-webkit-text-decoration:underline;text-decoration:underline;text-decoration-color:rgba(25, 118, 210, 0.4);}.css-15kjgm:hover{text-decoration-color:inherit;}.css-1l0625b{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-size:1.1rem;text-transform:none;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;line-height:1.75;letter-spacing:0.02857em;min-width:64px;padding:6px 8px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;color:white;}.css-1l0625b::-moz-focus-inner{border-style:none;}.css-1l0625b.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-1l0625b{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-1l0625b:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-1l0625b:hover{background-color:transparent;}}.css-1l0625b.Mui-disabled{color:rgba(0, 0, 0, 0.26);}.css-co2nuf{min-height:56px;}@media (min-width:0px) and (orientation: landscape){.css-co2nuf{min-height:48px;}}@media (min-width:600px){.css-co2nuf{min-height:64px;}}.css-vli43w{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-132oeye{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}@media (min-width:900px){.css-132oeye{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}@media (min-width:1200px){.css-132oeye{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}@media (min-width:1536px){.css-132oeye{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}.css-1ontqvh{list-style:none;margin:0;padding:0;position:relative;padding-top:8px;padding-bottom:8px;}.css-1tsvksn{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;margin-top:4px;margin-bottom:4px;}.css-zq6grw{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1.5rem;line-height:1.334;letter-spacing:0em;}.css-1iuj5ih{padding-left:8px;}.css-1uwabd6{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-text-decoration:none;text-decoration:none;min-width:0;box-sizing:border-box;text-align:left;padding-top:8px;padding-bottom:8px;-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding-left:16px;padding-right:16px;}.css-1uwabd6::-moz-focus-inner{border-style:none;}.css-1uwabd6.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-1uwabd6{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-1uwabd6:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-1uwabd6:hover{background-color:transparent;}}.css-1uwabd6.Mui-selected{background-color:rgba(25, 118, 210, 0.08);}.css-1uwabd6.Mui-selected.Mui-focusVisible{background-color:rgba(25, 118, 210, 0.2);}.css-1uwabd6.Mui-selected:hover{background-color:rgba(25, 118, 210, 0.12);}@media (hover: none){.css-1uwabd6.Mui-selected:hover{background-color:rgba(25, 118, 210, 0.08);}}.css-1uwabd6.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.12);}.css-1uwabd6.Mui-disabled{opacity:0.38;}.css-yb0lig{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;display:block;}.css-n085mf{padding-left:16px;}.css-1ns5f5t{padding-left:24px;}.css-1spz1bj{padding-left:32px;}.css-hcgus0{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}@media (min-width:600px){.css-hcgus0{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-hcgus0{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:1200px){.css-hcgus0{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}@media (min-width:1536px){.css-hcgus0{-webkit-flex-basis:66.666667%;-ms-flex-preferred-size:66.666667%;flex-basis:66.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:66.666667%;}}.css-g65o49{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:900px){.css-g65o49{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}@media (min-width:1200px){.css-g65o49{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}@media (min-width:1536px){.css-g65o49{-webkit-flex-basis:16.666667%;-ms-flex-preferred-size:16.666667%;flex-basis:16.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:16.666667%;}}.css-39bbo6{margin:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-width:0;border-style:solid;border-color:rgba(0, 0, 0, 0.12);border-bottom-width:thin;}.css-1yo8bqd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-text-decoration:none;text-decoration:none;width:100%;box-sizing:border-box;text-align:left;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;}.css-1yo8bqd.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.12);}.css-1yo8bqd.Mui-selected{background-color:rgba(25, 118, 210, 0.08);}.css-1yo8bqd.Mui-selected.Mui-focusVisible{background-color:rgba(25, 118, 210, 0.2);}.css-1yo8bqd.Mui-disabled{opacity:0.38;}.css-9l3uo3{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}.css-tuxzvu{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:-8px;width:calc(100% + 8px);margin-left:-8px;}.css-tuxzvu>.MuiGrid-item{padding-top:8px;}.css-tuxzvu>.MuiGrid-item{padding-left:8px;}.css-1wxaqej{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-10f1en8{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:rgba(0, 0, 0, 0.87);background-color:rgba(0, 0, 0, 0.08);border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;background-color:transparent;border:1px solid #bdbdbd;}.css-10f1en8.Mui-disabled{opacity:0.38;pointer-events:none;}.css-10f1en8 .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-10f1en8 .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-10f1en8 .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-10f1en8 .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-10f1en8 .MuiChip-icon{color:#616161;margin-left:5px;margin-right:-6px;}.css-10f1en8 .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(0, 0, 0, 0.26);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-10f1en8 .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-10f1en8.MuiChip-clickable:hover{background-color:rgba(0, 0, 0, 0.04);}.css-10f1en8.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.12);}.css-10f1en8 .MuiChip-avatar{margin-left:4px;}.css-10f1en8 .MuiChip-avatarSmall{margin-left:2px;}.css-10f1en8 .MuiChip-icon{margin-left:4px;}.css-10f1en8 .MuiChip-iconSmall{margin-left:2px;}.css-10f1en8 .MuiChip-deleteIcon{margin-right:5px;}.css-10f1en8 .MuiChip-deleteIconSmall{margin-right:3px;}.css-9iedg7{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}.css-ayb3n0{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;margin-top:4px;margin-bottom:4px;padding-right:8px;}.css-wk4je1{max-width:100%;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:rgba(0, 0, 0, 0.87);background-color:rgba(0, 0, 0, 0.08);border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;}.css-wk4je1.Mui-disabled{opacity:0.38;pointer-events:none;}.css-wk4je1 .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-wk4je1 .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-wk4je1 .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-wk4je1 .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-wk4je1 .MuiChip-icon{color:#616161;margin-left:5px;margin-right:-6px;}.css-wk4je1 .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(0, 0, 0, 0.26);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-wk4je1 .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-12hl9jz{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:4px;margin-left:auto;margin-right:40px;}.css-12hl9jz .MuiButtonGroup-grouped{min-width:40px;}.css-12hl9jz .MuiButtonGroup-grouped:not(:first-of-type){border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-1px;}.css-12hl9jz .MuiButtonGroup-grouped:not(:last-of-type){border-top-right-radius:0;border-bottom-right-radius:0;border-right-color:transparent;}.css-12hl9jz .MuiButtonGroup-grouped:not(:last-of-type):hover{border-right-color:currentColor;}.css-39nlm1{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.5rem;padding:8px;border-radius:50%;overflow:visible;color:rgba(0, 0, 0, 0.54);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:#1976d2;}.css-39nlm1::-moz-focus-inner{border-style:none;}.css-39nlm1.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-39nlm1{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-39nlm1:hover{background-color:rgba(0, 0, 0, 0.04);}@media (hover: none){.css-39nlm1:hover{background-color:transparent;}}.css-39nlm1:hover{background-color:rgba(25, 118, 210, 0.04);}@media (hover: none){.css-39nlm1:hover{background-color:transparent;}}.css-39nlm1.Mui-disabled{background-color:transparent;color:rgba(0, 0, 0, 0.26);}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-rh="true">ARM Cortex-M3 Architecture</title><title data-react-helmet="true"></title><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2"/><style>@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2) format("woff2")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2) format("woff2")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2) format("woff2")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxM.woff) format("woff")}@font-face{font-display:swap;font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc-.woff) format("woff")}</style><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=d1d275ef5984c9c4df66911afa1eabc2" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=d1d275ef5984c9c4df66911afa1eabc2"/><link as="script" rel="preload" href="/webpack-runtime-1b3e5728f3c07f383689.js"/><link as="script" rel="preload" href="/framework-137a6963f263188333cb.js"/><link as="script" rel="preload" href="/dc6a8720040df98778fe970bf6c000a41750d3ae-da54993d5e5aa0da12f7.js"/><link as="script" rel="preload" href="/app-1e714a6ebf09e0da48c3.js"/><link as="script" rel="preload" href="/cb1608f2-8b21232f8956c9e9594e.js"/><link as="script" rel="preload" href="/a9a7754c-7e51f9bc3504726fa9e4.js"/><link as="script" rel="preload" href="/commons-b9a963f19e0fdcc43084.js"/><link as="script" rel="preload" href="/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-175be7054cf5d76b4c7b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-ddb853013b61ea1d756e.js"/><link as="fetch" rel="preload" href="/page-data/arm_cortex_m3_architecture/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="document-wrapper" style="display:flex;flex-direction:column;min-height:100vh"><header><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation4 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-17xcwyf"><div class="MuiContainer-root MuiContainer-maxWidthXl css-1ekb41w"><div class="MuiToolbar-root MuiToolbar-regular css-1ev4ah9"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Lukas Woodtli</button></a><div></div><div class="MuiBox-root css-0"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/resume"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Resume</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/skills"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Skills</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/books"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Books</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/courses"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Courses</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/projects"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Projects</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/blog"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Blog</button></a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" href="/contact"><button class="MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButtonBase-root  css-1l0625b" tabindex="0" type="button">Contact</button></a></div></div></div></header><div class="css-co2nuf"></div></header><div class="MuiGrid-root MuiGrid-container css-vli43w"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-md-2 css-132oeye"><ul class="MuiList-root MuiList-padding css-1ontqvh"><div class="MuiListItemText-root css-1tsvksn"><h5 class="MuiTypography-root MuiTypography-h5 css-zq6grw">Content</h5></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#general"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">General</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#efm32tg-overview"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">EFM32TG Overview</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#registers"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Registers</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#general-purpose-registers"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">General Purpose Registers</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#stack-pointers-sp-r13-msp-psp"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Stack Pointers (SP, R13, MSP, PSP)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#link-register-r14-lr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Link Register (R14, LR)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#program-counter-r15-pc"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Program Counter (R15, PC)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#program-status-registers"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Program Status Registers</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#application-program-status-register-apsr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Application Program Status Register (APSR)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#interrupt-program-status-register-ipsr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Interrupt Program Status Register (IPSR)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#execution-program-status-register-epsr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Execution Program Status Register (EPSR)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#composite-views-of-the-xpsr-registers"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Composite views of the xPSR registers</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#special-purpose-mask-registers"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Special-Purpose Mask Registers</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#control-register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Control Register</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#control-bit0-npriv-privilege-level"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Control bit[0] (nPRIV, privilege level)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#control-bit1-spsel-stack-selection"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Control bit[1] (SPSEL, stack selection)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#switching-privilege-level"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Switching Privilege Level</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#reset-values-and-required-access-privileges"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Reset Values and Required Access Privileges</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#modes"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Modes</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#nested-vectored-interrupt-controller-nvic"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Nested Vectored Interrupt Controller (NVIC)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#nested"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Nested</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#vectored"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Vectored</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#dynamic-priority-setting"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Dynamic Priority Setting</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#memory-layout"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Memory Layout</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bit-banding"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bit-Banding</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bus-interfaces"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bus Interfaces</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#data-types"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Data Types</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#exceptions"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Exceptions</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#reset"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Reset</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#non-maskable-interrupt-nmi"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Non Maskable Interrupt (NMI)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#hardfault"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">HardFault</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#memmanage"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">MemManage</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#busfault"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">BusFault</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#usagefault"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">UsageFault</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#debugmonitor"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">DebugMonitor</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#svcall"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">SVCall</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#interrupts"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Interrupts</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#system-level-interrupts"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">System-Level Interrupts</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#pendsv"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">PendSV</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#systick"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">SysTick</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#the-vector-table"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">The Vector Table</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#reset-sequence"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Reset Sequence</span></div></a></div><div class="MuiBox-root css-1iuj5ih"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#assembler"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Assembler</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#addressing-modes"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Addressing Modes</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#suffixes"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Suffixes</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#write-flags-suffix"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Write Flags Suffix</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#conditional-suffixes"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Conditional Suffixes</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#instruction-width-qualifier"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Instruction Width Qualifier</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#data-transfer-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Data Transfer Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#move-data-between-registers-mov-mvn"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Move Data between Registers (MOV, MVN)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#move-to-top-half-word-of-register-movt"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Move to top half-word of Register (MOVT)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#move-special-register-to-register-mrs"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Move Special Register to Register (MRS)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#move-register-to-special-register-msr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Move Register to Special Register (MSR)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#move-data-between-register-and-memory"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Move Data between Register and Memory</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#arithmetic-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Arithmetic Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#addition-add"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Addition (ADD)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#sp-plus-immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">SP plus Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#sp-plus-register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">SP plus Register</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#addition-with-carry-adc"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Addition with Carry (ADC)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#multiply-mul"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Multiply (MUL)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#logical-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Logical Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#and-and"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">And (AND)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bit-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bit Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bit-field-clear-bfc"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bit Field Clear (BFC)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bit-field-insert-bfi"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bit Field Insert (BFI)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#bit-clear-bic"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Bit Clear (BIC)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#count-leading-zeros-clz"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Count Leading Zeros (CLZ)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#shift-and-rotate-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Shift and Rotate Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#arithmetic-shift-right-asr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Arithmetic Shift Right (ASR)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#compare-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Compare Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#compare-cmp"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Compare (CMP)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#compare-negative-cmn"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Compare Negative (CMN)</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#immediate"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Immediate</span></div></a></div><div class="MuiBox-root css-1spz1bj"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#register"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Register</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#branch-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Branch Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#branch-b"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Branch (B)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#branch-with-link-bl"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Branch with Link (BL)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#branch-and-exchange-bx"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Branch and Exchange (BX)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#branch-with-link-and-exchange-blx"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Branch with Link and Exchange (BLX)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#compare-and-branch-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Compare and Branch Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#compare-and-branch-on-non-zero-and-compare-and-branch-on-zero-cbnzcbz"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Compare and Branch on Non-Zero and Compare and Branch on Zero (CBNZ,CBZ)</span></div></a></div><div class="MuiBox-root css-n085mf"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#other-commands"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Other Commands</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#calculate-address-adr"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Calculate Address (ADR)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#break-point-bkpt"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Break-point (BKPT)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#debug-hint-dbg"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">Debug Hint (DBG)</span></div></a></div><div class="MuiBox-root css-1ns5f5t"><a class="MuiListItemButton-root MuiListItemButton-gutters MuiButtonBase-root css-1uwabd6" tabindex="0" href="#no-operation-nop"><div class="MuiListItemText-root css-1tsvksn"><span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">No Operation (NOP)</span></div></a></div></ul></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-sm-12 MuiGrid-grid-md-8 css-hcgus0"><article class="blog-post" itemscope=""><div><h1 itemProp="headline">ARM Cortex-M3 Architecture</h1></div><section itemProp="articleBody"><p>This page collects my notes about the Cortex-M3 architecture.
In particular I use the <em>EFM32TG840F32</em> processor on a STK3300 starter kit by
<a href="https://www.silabs.com/">Silicon Labs</a>.</p>
<p>Most information on this page is taken from the
<a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.subset.cortexm.m3/index.html">documentation by ARM</a>.</p>
<p>[TOC]</p>
<h1 id="general">General</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU Design</td>
<td><a href="https://en.m.wikipedia.org/wiki/Reduced_instruction_set_computer">RISC</a></td>
</tr>
<tr>
<td>Endianness</td>
<td><a href="https://en.m.wikipedia.org/wiki/Bi-endian#Bi-endian_hardware">bi-endian (little as default)</a></td>
</tr>
<tr>
<td>Type</td>
<td><a href="https://en.m.wikipedia.org/wiki/Load/store_architecture">Load/Store</a></td>
</tr>
</tbody>
</table>
<h1 id="efm32tg-overview">EFM32TG Overview</h1>
<table>
<thead>
<tr>
<th>Feature</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>32 MHz ARM Cortex-M3 (r2p1)</td>
</tr>
<tr>
<td>Flash</td>
<td>32 kB</td>
</tr>
<tr>
<td>RAM</td>
<td>4 kB</td>
</tr>
<tr>
<td>SPI</td>
<td>1</td>
</tr>
<tr>
<td>I2C</td>
<td>1</td>
</tr>
<tr>
<td>USART</td>
<td>2</td>
</tr>
<tr>
<td>I2S</td>
<td>1</td>
</tr>
<tr>
<td>Dig. Pins</td>
<td>56</td>
</tr>
<tr>
<td>ADC</td>
<td>12-bit, 8 ch, 1 Msps</td>
</tr>
<tr>
<td>DAC</td>
<td>12-bit, 2 ch</td>
</tr>
<tr>
<td>IRQs</td>
<td>23</td>
</tr>
<tr>
<td>LCD</td>
<td>Yes</td>
</tr>
<tr>
<td>MPU</td>
<td>No</td>
</tr>
<tr>
<td>ETM</td>
<td>No</td>
</tr>
<tr>
<td>Package</td>
<td>QFN64 9x9 mm</td>
</tr>
</tbody>
</table>
<h1 id="registers">Registers</h1>
<p>All registers are 32-bit wide.</p>
<table>
<thead>
<tr>
<th>Register</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td>R0 - R12</td>
<td>General Purpose Registers</td>
</tr>
<tr>
<td>R13</td>
<td>Stack Pointers (SP_main, SP_process)</td>
</tr>
<tr>
<td>R14</td>
<td>Link Register (LR)</td>
</tr>
<tr>
<td>R15</td>
<td>Program Counter (PC)</td>
</tr>
</tbody>
</table>
<h2 id="general-purpose-registers">General Purpose Registers</h2>
<p>Some 16-bit Thumb instruction can only access R0 - R7.</p>
<p>The reset values of R0 - R12 are random.</p>
<h2 id="stack-pointers-sp-r13-msp-psp">Stack Pointers (SP, R13, MSP, PSP)</h2>
<p>The  Cortex-M3  contains  two  stack  pointers:</p>
<ul>
<li>Main Stack Pointer (SP_main): The default stack pointer, used by the operating system and exception handlers</li>
<li>Process Stack Pointer (SP_process): Used by application code</li>
</ul>
<p>In thread mode CONTROL bit[1] indicates the used stack pointed:</p>
<ul>
<li>0: MSP</li>
<li>1: PSP</li>
</ul>
<p>The two Stack Pointers are banked. Only one is visible at a time through R13.</p>
<p>The lowest 2 bits of the stack pointers are always 0. So they are always word aligned.</p>
<p>It’s not necessary to use both stack pointers (SP_main and SP_process). Simple applications use only SP_main.</p>
<p>PUSH and POP work with the actual <em>SP</em> (R13). The stack is 32-bit aligned.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">PUSH {<span class="token register variable">R3</span>}  <span class="token comment">; R13 = R13-4, memory[R13] = R3</span>
POP {<span class="token register variable">R3</span>}   <span class="token comment">; R3 = memory[R13], R13 = R13+4</span></code></pre></div>
<p>It’s also possible to to push and pop multiple registers in one instruction.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">my_function
   PUSH {<span class="token register variable">R0</span><span class="token operator">-</span><span class="token register variable">R3</span>, <span class="token register variable">R3</span>, <span class="token register variable">R7</span>} <span class="token comment">; Save registers</span>
   ...
   POP {<span class="token register variable">R0</span><span class="token operator">-</span><span class="token register variable">R3</span>, <span class="token register variable">R3</span>, <span class="token register variable">R7</span>}  <span class="token comment">; Restore registers</span>
   <span class="token register variable">BX</span> <span class="token register variable">R7</span>                <span class="token comment">; Return to caller</span></code></pre></div>
<p>It’s possible to use <em>SP</em> instead of <em>R13</em> for accessing the actual Stack Pointer.
For accessing a particular Stack Pointer the mnemonic MSP (for SP_main) or PSP (for SP_process) exist.</p>
<h2 id="link-register-r14-lr">Link Register (R14, LR)</h2>
<p>The Link Register contains the return address of a subroutine/function.
On function entry (BL) the return address is automatically saved on LR.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">main
  <span class="token register variable">BL</span> my_func <span class="token comment">; call funct. with branch and link. PC=my_func, LR=next instr in main</span>
   ...

my_func
   ...
   <span class="token register variable">BX</span> LR <span class="token comment">; return to address in LR</span></code></pre></div>
<h2 id="program-counter-r15-pc">Program Counter (R15, PC)</h2>
<p>This register holds the current program position.</p>
<p>It can be written to for controlling the program flow (jumps). But then <em>LR</em> is not updated.</p>
<p>Since the Cortex-M3 has a pipelined architecture the PC can be ahead of the actual executed
instruction (normally by 4).</p>
<p>On reset, the processor loads the PC with the value of the reset vector, which is at address 0x00000004.</p>
<blockquote>
<p>The least-significant bit of each address loaded into <em>PC</em> (with <code class="language-text">BX</code>, <code class="language-text">BLX</code>, <code class="language-text">LDM</code>, <code class="language-text">LDR</code>, or <code class="language-text">POP</code>)
must be 1 (indicating thumb mode).</p>
<p>Otherwise an exception will occur on the Cortex-M3.</p>
</blockquote>
<h2 id="program-status-registers">Program Status Registers</h2>
<p>The special-purpose program status registers (<em>xPSR</em>) provide arithmetic and logic flags (zero and carry flag),
execution status and current executing IRQ number.</p>
<table>
<thead>
<tr>
<th align="right">Bit</th>
<th align="center">APSR</th>
<th align="center">IPSR</th>
<th align="center">EPSR</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">31</td>
<td align="center">N</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">30</td>
<td align="center">Z</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">29</td>
<td align="center">C</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">28</td>
<td align="center">V</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">27</td>
<td align="center">Q</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">25-26</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ICI/IT</td>
</tr>
<tr>
<td align="right">24</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">T</td>
</tr>
<tr>
<td align="right">20-23</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">16-19</td>
<td align="center">GE[3:0]</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="right">9-15</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ICI/IT</td>
</tr>
<tr>
<td align="right">0-8</td>
<td align="center">-</td>
<td align="center">Exception Number</td>
<td align="center">-</td>
</tr>
</tbody>
</table>
<h3 id="application-program-status-register-apsr">Application Program Status Register (APSR)</h3>
<p>Flags that can be set by application code (unprivileged mode).</p>
<ul>
<li><strong>N (bit[31])</strong>: Negative condition flag. Set if result of instruction is negative.</li>
<li><strong>Z (bit[30])</strong>: Zero condition flag. Set if result of instruction is zero (0).</li>
<li><strong>C (bit[29])</strong>: Carry (or borrow) condition flag. Set if instruction results in a carry condition (i.e unsigned overflow on addition)</li>
<li><strong>V (bit[28])</strong>: Overflow condition flag. Set if the instruction results in a an overflow condition (i.e. signed overflow on addition)</li>
<li><strong>Q (bit[27])</strong>: Set if a <code class="language-text">SSAT</code> or <code class="language-text">USAT</code> instruction changes the input value for the signed/unsigned range of the result (saturation).</li>
<li><strong>GE[3:0] (bits[19:16])</strong>: DSP extension only. Otherwise reserved.</li>
</ul>
<h3 id="interrupt-program-status-register-ipsr">Interrupt Program Status Register (IPSR)</h3>
<ul>
<li>Handler Mode: This register holds the exception number of the exception that is currently processed.</li>
<li>Thread Mode: If no exception is processed the value is zero (0).</li>
</ul>
<h3 id="execution-program-status-register-epsr">Execution Program Status Register (EPSR)</h3>
<ul>
<li><strong>T bit[24]</strong>: Defines the instruction set. The Cortex-M3 supports only Thumb-2. So it must be 0. An fault is caused if this bit is set to 0.</li>
<li><strong>ICI/IT</strong>: TBD</li>
</ul>
<h3 id="composite-views-of-the-xpsr-registers">Composite views of the xPSR registers</h3>
<p>The commands <code class="language-text">MSR</code> and <code class="language-text">MRS</code> can use the mnemonics APSR, IPSR, and EPSR directly or combined mnemonics for the Program Status Registers.</p>
<table>
<thead>
<tr>
<th>Mnemonic</th>
<th>Registers</th>
</tr>
</thead>
<tbody>
<tr>
<td>IAPSR</td>
<td>IPSR and APSR</td>
</tr>
<tr>
<td>EAPSR</td>
<td>EPSR and APSR</td>
</tr>
<tr>
<td>IEPSR</td>
<td>IPSR and EPSR</td>
</tr>
<tr>
<td>PSR</td>
<td>All three xPSR registers</td>
</tr>
</tbody>
</table>
<h2 id="special-purpose-mask-registers">Special-Purpose Mask Registers</h2>
<p>This registers are set to 0 at reset.</p>
<p>They can only be written if in privileged level.</p>
<ul>
<li><em>PRIMASK</em>: Disable interrupts except nonmaskable interrupt (NMI) and hard fault.</li>
<li><em>FAULTMASK</em>: Disable interrupts except nonmaskable interrupt (NMI).</li>
<li><em>BASEPRI</em>: Disable interrupts of given priority level or lower priority level.</li>
</ul>
<h2 id="control-register">Control Register</h2>
<p>Define privileged status and select stack pointer.</p>
<h3 id="control-bit0-npriv-privilege-level">Control bit[0] (nPRIV, privilege level)</h3>
<p>This bit has only a meaning in thread mode.</p>
<ul>
<li>0: Privileged Level</li>
<li>1: Unprivileged (user) Level</li>
</ul>
<p>In handler mode the processor operates in privileged mode.</p>
<p>This bit is only writable with privileged level.</p>
<h3 id="control-bit1-spsel-stack-selection">Control bit[1] (SPSEL, stack selection)</h3>
<p>This bit makes only sense in thread mode.</p>
<ul>
<li>0: Use SP_process</li>
<li>1: Use SP_main</li>
</ul>
<p>In handler mode this bit must be 0 (SP_main is used).</p>
<p>This bit is only writable if in thread mode with privileged level.</p>
<h3 id="switching-privilege-level">Switching Privilege Level</h3>
<p>To switch from privileged level to user level the <em>Control bit[0]</em> can be written directly.</p>
<p>The switch from user level to privilege level heeds to be performed within an exception handler.</p>
<h2 id="reset-values-and-required-access-privileges">Reset Values and Required Access Privileges</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Read/Write</th>
<th>Required privilege</th>
<th>Reset value</th>
</tr>
</thead>
<tbody>
<tr>
<td>R0-R12</td>
<td>RW</td>
<td>Both</td>
<td>Undef</td>
</tr>
<tr>
<td>MSP (R13)</td>
<td>RW</td>
<td>Privileged</td>
<td>value from address 0x00000000</td>
</tr>
<tr>
<td>PSP (R13)</td>
<td>RW</td>
<td>Both</td>
<td>Undef</td>
</tr>
<tr>
<td>LR  (R14)</td>
<td>RW</td>
<td>Both</td>
<td>0xFFFFFFFF</td>
</tr>
<tr>
<td>PC  (R15)</td>
<td>RW</td>
<td>Both</td>
<td>value of the reset vector</td>
</tr>
<tr>
<td>ASPR</td>
<td>RW</td>
<td>Both</td>
<td>0x00000000</td>
</tr>
<tr>
<td>IPSR</td>
<td>R</td>
<td>Privileged</td>
<td>0x00000000</td>
</tr>
<tr>
<td>EPSR</td>
<td>R</td>
<td>Privileged</td>
<td>0x01000000</td>
</tr>
<tr>
<td>PRIMASK</td>
<td>RW</td>
<td>Privileged</td>
<td>0x00000000</td>
</tr>
<tr>
<td>FAULTMASK</td>
<td>RW</td>
<td>Privileged</td>
<td>0x00000000</td>
</tr>
<tr>
<td>BASEPRI</td>
<td>RW</td>
<td>Privileged</td>
<td>0x00000000</td>
</tr>
<tr>
<td>CONTROL</td>
<td>RW</td>
<td>Privileged</td>
<td>0x00000000</td>
</tr>
</tbody>
</table>
<h1 id="modes">Modes</h1>
<p>The Cortex-M3 has two modes:</p>
<ul>
<li>Thread Mode</li>
<li>Handler Mode</li>
</ul>
<p>In Thread Mode the processor can run in two privilege levels:</p>
<ul>
<li>User Level</li>
<li>Privileged Level</li>
</ul>
<p>In Handler Mode only the Privileged Level is available.</p>
<table>
<thead>
<tr>
<th></th>
<th>Application Code</th>
<th>Exception Handler</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unprivileged (user) Level</td>
<td>Thread Mode</td>
<td>-</td>
</tr>
<tr>
<td>Privileged Level</td>
<td>Thread Mode</td>
<td>Handler Mode</td>
</tr>
</tbody>
</table>
<p><img src="/96e7c6e7f1a1456cdc2be3ca8f511f5d/arm_cortex_m3_modes_levels.svg" alt="The ARM Cortex-M3 Modes and Levels"></p>
<h1 id="nested-vectored-interrupt-controller-nvic">Nested Vectored Interrupt Controller (NVIC)</h1>
<h2 id="nested">Nested</h2>
<p>All external and some system interrupts can be assigned to different priority levels. Current
handled interrupts can only be disrupted by interrupts of higher priority.</p>
<h2 id="vectored">Vectored</h2>
<p>The addresses of the interrupt service routines (ISRs) are stored in a vector. If an interrupt
occurs the look-up of the routine is fast and the handling of the interrupt is not delayed by look-up
code.</p>
<h2 id="dynamic-priority-setting">Dynamic Priority Setting</h2>
<p>The priority of an interrupt can be changed at run time.</p>
<h1 id="memory-layout">Memory Layout</h1>
<p>The Cortex-M3 has a defined memory map. So most built in peripherals are accessible by their
memory address. Thus it’s easy to access it in C/C++ code.</p>
<table>
<thead>
<tr>
<th>Address Range</th>
<th>Use</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x00000000 - 0x1FFFFFFF</td>
<td>CODE</td>
<td>Program Code. Exception vector table after start up.</td>
</tr>
<tr>
<td>0x20000000 - 0x3FFFFFFF</td>
<td>SRAM</td>
<td>Used as static RAM.</td>
</tr>
<tr>
<td>0x40000000 - 0x5FFFFFFF</td>
<td>Peripherals</td>
<td>For integrated peripherals.</td>
</tr>
<tr>
<td>0x60000000 - 0x9FFFFFFF</td>
<td>External RAM</td>
<td>For external connected RAM.</td>
</tr>
<tr>
<td>0xA0000000 - 0xDFFFFFFF</td>
<td>External Peripherals</td>
<td>For external connected peripherals.</td>
</tr>
<tr>
<td>0xE0000000 - 0xFFFFFFFF</td>
<td>System</td>
<td>NVIC, MPU, Debug…</td>
</tr>
</tbody>
</table>
<h2 id="bit-banding">Bit-Banding</h2>
<p>Bit-Banding is a feature that allows to access certain bits individually. The access to the bits are atomically.</p>
<p>The access to the individual bits are accomplished by mapping each bit from the bit-banding region to an address
in a region called bit-banding alias.</p>
<ul>
<li>Each bit-banding region is 1 MB big.</li>
<li>The bit-banding alias regions are 32 MB big (but it addresses in total only the 1 MB of the bit-banding region).</li>
</ul>
<p>There are two bit-band region. One for memory and the other for peripherals.</p>
<table>
<thead>
<tr>
<th></th>
<th>Bit-Band region</th>
<th>Bit-Band alias region</th>
</tr>
</thead>
<tbody>
<tr>
<td>Memory</td>
<td>0x20000000 - 0x200FFFFF</td>
<td>0x22000000 - 0x23FFFFF</td>
</tr>
<tr>
<td>Peripherals</td>
<td>0x40000000 - 0x400FFFFF</td>
<td>0x42000000 - 0x43FFFFF</td>
</tr>
</tbody>
</table>
<p>To access one bit through the bit-banding alias the mapping is performed by this code:</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">BIT_BANDING_ALIAS_OFFSET</span><span class="token expression"><span class="token punctuation">(</span>byteOffsetInBitBandRegion<span class="token punctuation">,</span> bitNumber<span class="token punctuation">)</span>  <span class="token punctuation">(</span><span class="token punctuation">(</span>byteOffsetInBitBandRegion <span class="token operator">*</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>bitNumber <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BIT_BANDING_MEMORY_ALIAS_BASE</span>    <span class="token expression"><span class="token number">0x22000000</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BIT_BANDING_PERIPERAL_ALIAS_BASE</span> <span class="token expression"><span class="token number">0x42000000</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">BIT_BANDING_MEMORY_TO_ALIAS</span><span class="token expression"><span class="token punctuation">(</span>byte<span class="token punctuation">,</span> bit<span class="token punctuation">)</span>  <span class="token punctuation">(</span>BIT_BANDING_MEMORY_ALIAS_BASE <span class="token operator">+</span> <span class="token function">BIT_BANDING_ALIAS_OFFSET</span><span class="token punctuation">(</span>byte<span class="token punctuation">,</span> bit<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">BIT_BANDING_PERIPHERAL_TO_ALIAS</span><span class="token expression"><span class="token punctuation">(</span>byte<span class="token punctuation">,</span> bit<span class="token punctuation">)</span> <span class="token punctuation">(</span>BIT_BANDING_PERIPHERAL_ALIAS_BASE <span class="token operator">+</span> <span class="token function">BIT_BANDING_ALIAS_OFFSET</span><span class="token punctuation">(</span>byte<span class="token punctuation">,</span> bit<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span></code></pre></div>
<p>It’s also possible to calculate the address in the other direction from the alias region to the bit-banding region.
But it’s usually not nessecary to do the address translation in this direction.</p>
<p>Here is a small example:</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token comment">// Set pI to point to the first 32-bit value in the memory bit-banding region</span>
<span class="token keyword">volatile</span> <span class="token class-name">uint32_t</span> <span class="token operator">*</span> pI <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">uint32_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0x20000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Set the value where pI is pointing to 0</span>
<span class="token operator">*</span>pI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// Get the bit-banding alias address of bit 2 of the first byte in the bit-banding region</span>
<span class="token keyword">volatile</span> <span class="token class-name">uint32_t</span> <span class="token operator">*</span> pIAlias <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">uint32_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">BIT_BANDING_MEMORY_TO_ALIAS</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Seet this bit to one</span>
<span class="token operator">*</span>pIAlias <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// *pI == 4. The bit two ot *pI is now set</span></code></pre></div>
<h1 id="bus-interfaces">Bus Interfaces</h1>
<p>The Cortex-M3 has multiple bus interfaces:</p>
<ul>
<li>Code Memory Bus: For fetching instructions from code memory.</li>
<li>System Bus: For static RAM and peripherals.</li>
<li>Private Peripheral Bus: For access to a part of the system memory and for debugging.</li>
</ul>
<h1 id="data-types">Data Types</h1>
<p>Following data types are supported in memory:</p>
<ul>
<li>Byte: 8 bits.</li>
<li>Half-word: 16 bits.</li>
<li>Word: 32 bits.</li>
</ul>
<p>The registers are 32 bit wide. The instruction set supports following data types in the registers:</p>
<ul>
<li>32-bit pointers.</li>
<li>Unsigned and signed 32-bit integers.</li>
<li>Unsigned 16-bit and 8-bit integers in zero-extended form.</li>
<li>Signed 16-bit and 8-bit integers in sign-extended form.</li>
<li>Unsigned and signed 64-bit integers held in two registers (limited direct support).</li>
</ul>
<p>Signed data is represented using two’s complement format.</p>
<h1 id="exceptions">Exceptions</h1>
<table>
<thead>
<tr>
<th>Exception number</th>
<th>Exception</th>
<th>Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Reset</td>
<td>-3</td>
</tr>
<tr>
<td>2</td>
<td>NMI</td>
<td>-2</td>
</tr>
<tr>
<td>3</td>
<td>Hard Fault</td>
<td>-1</td>
</tr>
<tr>
<td>4</td>
<td>MemManage</td>
<td>configurable</td>
</tr>
<tr>
<td>5</td>
<td>BusFault</td>
<td>configurable</td>
</tr>
<tr>
<td>6</td>
<td>UsageFault</td>
<td>configurable</td>
</tr>
<tr>
<td>7 - 10</td>
<td>Reserved</td>
<td>-</td>
</tr>
<tr>
<td>11</td>
<td>SVCall</td>
<td>configurable</td>
</tr>
<tr>
<td>12</td>
<td>DebugMonitor</td>
<td>configurable</td>
</tr>
<tr>
<td>13</td>
<td>Reserved</td>
<td>-</td>
</tr>
<tr>
<td>14</td>
<td>PendSV</td>
<td>configurable</td>
</tr>
<tr>
<td>15</td>
<td>SysTick</td>
<td>configurable</td>
</tr>
<tr>
<td>16 - 16+N</td>
<td>External interrupt 0 .. N</td>
<td>configurable</td>
</tr>
</tbody>
</table>
<h2 id="reset">Reset</h2>
<p>There are two levels of reset:</p>
<ul>
<li>Power Reset: Resets processor, System Control Space and debug logic.</li>
<li>Local Reset: Resets processor and System Control Space (except some fault and debug resources).</li>
</ul>
<p>The exception can’t be disabled.
Reset exception has a fixed priority of <em>-3</em>.</p>
<h2 id="non-maskable-interrupt-nmi">Non Maskable Interrupt (NMI)</h2>
<p>NMI is the highest priority exception after reset.</p>
<p>NMI can be generated by hardware or software can set the NMI exception to the Pending state.</p>
<p>It can’t be disabled.
The fixed priority is <em>-2</em>.</p>
<h2 id="hardfault">HardFault</h2>
<p>HardFault is a generic exception. It usually means that the system is
not recoverable anymore. But in some cases it might be recoverable.</p>
<p>HardFault can’t be disabled.
It has a fixed priority of <em>-1</em>.</p>
<h2 id="memmanage">MemManage</h2>
<p>MemManage indicates a violation of memory access protected by the MPU (Memory Protection Unit).
It can occur for data and instruction memory transactions.</p>
<p>This fault can be disabled by software. Then a MemManage escalates to a HardFault.</p>
<p>The priority can be configured.</p>
<h2 id="busfault">BusFault</h2>
<p>This are memory faults other than MemManage faults. They can occur
for data and instruction transactions.
They can occur synchronous or asynchronous and arise usually by errors
on system buses.</p>
<p>This fault can be disabled by software. Then a BusFault escalates to a HardFault.</p>
<p>The priority can be configured.</p>
<h2 id="usagefault">UsageFault</h2>
<p>UsageFaults can have different causes:</p>
<ul>
<li>Undefined instruction.</li>
<li>Invalid state when executing instruction.</li>
<li>Error on exception return.</li>
<li>Attempt to access co-processor when it’s unavailable (or disabled).</li>
</ul>
<p>The reporting of the following UsageFaults can be activated:</p>
<ul>
<li>Word/half-word access on unaligned memory address.</li>
<li>Division by zero.</li>
</ul>
<p>This fault can be disabled by software. Then a UsageFault escalates to a HardFault.</p>
<p>The priority can be configured.</p>
<h2 id="debugmonitor">DebugMonitor</h2>
<p>The DebugMonitor is a fault and it’s a synchronous exception.
It occurs when halting debug is disabled and the DebugMonitor is enabled.</p>
<p>The priority is configurable.</p>
<blockquote>
<p>A debug watch-point is asynchronous and behaves as an interrupt.</p>
</blockquote>
<h2 id="svcall">SVCall</h2>
<p>This exception is used as supervisor calls it’s caused by the instruction SVC.</p>
<p>It’s permanently activated. The priority is configurable.</p>
<h2 id="interrupts">Interrupts</h2>
<p>The Cortex-M3 has two levels of system interrupts and up to 496 external interrupts (the EFM32TG has 23).</p>
<h3 id="system-level-interrupts">System-Level Interrupts</h3>
<h4 id="pendsv">PendSV</h4>
<p>Used for system calls (Supervisor call) generated by software. An application uses a Supervisor call if it uses resources from the OS.</p>
<p>The Supervisor call caused by PendSV executes when the processor takes the PendSV interrupt.</p>
<blockquote>
<p>For a synchronous Supervisor call (with application code), software uses the SVC instruction. This generates an SVCall exception.</p>
</blockquote>
<p>PendSV is permanently enabled, and is controlled using the ICSR.PENDSVSET and ICSR.PENDSVCLR bits.</p>
<h4 id="systick">SysTick</h4>
<p>Generated by the SysTick Timer (integral part of Cortex-M3).</p>
<p>SysTick is permanently enabled, and is controlled using the ICSR.PENDSTSET and ICSR.PENDSTCLR bits.</p>
<blockquote>
<p>Software can suppress hardware generation of the SysTick event.</p>
</blockquote>
<h1 id="the-vector-table">The Vector Table</h1>
<p>The Vector Table contains the reset value of <em>SP_main</em> and the addresses of each exception handler function.</p>
<table>
<thead>
<tr>
<th>Offset in Table (32-bit words)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Reset value of SP_main</td>
</tr>
<tr>
<td>Exception Number</td>
<td>Address of exception handler</td>
</tr>
</tbody>
</table>
<blockquote>
<p>The least-significant bit of each exception handler address (vector) must be 1, indicating that the exception handler is in Thumb code.</p>
</blockquote>
<p>The position of the <em>Vector Table</em> is defined by the <em>Vector Table Offset Register (VTOR)</em>.</p>
<h1 id="reset-sequence">Reset Sequence</h1>
<p>At start up the <em>Vector Table</em> is located at memory position 0 (flash).
It can later be relocated to an other memory position by software.</p>
<p>After reset the processor does:</p>
<ol>
<li>Set main Stack Pointer
<ul>
<li>Load 32-bit value from address 0x00000000</li>
<li>Save that value to <em>SP_main</em></li>
</ul>
</li>
<li>Run start up code
<ul>
<li>Read the next entry in the <em>Vector Table</em> (0x00000004, reset vector)</li>
<li>Jump to that address and start running code there</li>
</ul>
</li>
</ol>
<blockquote>
<p>Since the Cortex-M4 has a full descending stack the initial stack address</p>
</blockquote>
<p>has to be 0x04 bigger the the beginning of the stack.</p>
<h1 id="assembler">Assembler</h1>
<p>Most assembler examples use the <a href="https://sourceware.org/binutils/docs-2.25/as/index.html">GCC Assembler (gas)</a>.</p>
<h2 id="addressing-modes">Addressing Modes</h2>
<p><code class="language-text">addr</code>: Absolute addressing mode (memory address of operator is given directly).</p>
<p><code class="language-text">%Rn</code>: Register direct (the value given in the register is used as operator).</p>
<p><code class="language-text">[%Rn]</code>: Register indirect or indexed (the value given in the register is used as address to the operator).</p>
<p><code class="language-text">[%Rn,#n]</code>: Register based with offset (the address of the operand is calculated by the content of the register plus a constant).</p>
<p><code class="language-text">#imm</code>: Immediate data (the operator is given directly as a constant).</p>
<p><em>Rn</em> can be any of the numbered registers.</p>
<h2 id="suffixes">Suffixes</h2>
<p>Some instructions can have suffixes.</p>
<h3 id="write-flags-suffix">Write Flags Suffix</h3>
<p>The Suffix <code class="language-text">S</code> indicates that the instruction updates the flags (in <em>APSR</em>) according to the result.</p>
<p>For example <code class="language-text">ADDS R0, R0, R1;</code> updates the flags.</p>
<h3 id="conditional-suffixes">Conditional Suffixes</h3>
<p>This suffixes can be used for branching instructions but also for conditional execution commands.</p>
<table>
<thead>
<tr>
<th>Suffix</th>
<th>Meaning</th>
<th>Tested Flags</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">EQ</code></td>
<td>Equal</td>
<td>Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1</td>
</tr>
<tr>
<td><code class="language-text">NE</code></td>
<td>Not equal</td>
<td>Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0</td>
</tr>
<tr>
<td><code class="language-text">CS</code>or <code class="language-text">HS</code></td>
<td>Unsigned higher or same (carry set)</td>
<td>C<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1</td>
</tr>
<tr>
<td><code class="language-text">CC</code>or <code class="language-text">LO</code></td>
<td>Unsigned lower (or carry clear)</td>
<td>C<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0</td>
</tr>
<tr>
<td><code class="language-text">MI</code></td>
<td>Negative (minus)</td>
<td>N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1</td>
</tr>
<tr>
<td><code class="language-text">PL</code></td>
<td>Positive or zero (plus)</td>
<td>N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0</td>
</tr>
<tr>
<td><code class="language-text">VS</code></td>
<td>Signed overflow (V set)</td>
<td>V<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1</td>
</tr>
<tr>
<td><code class="language-text">VC</code></td>
<td>No signed overflow (V clear)</td>
<td>V<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0</td>
</tr>
<tr>
<td><code class="language-text">HI</code></td>
<td>Unsigned higher</td>
<td>(C<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1) AND (Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0)</td>
</tr>
<tr>
<td><code class="language-text">LS</code></td>
<td>Unsigned lower or same</td>
<td>(C<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0) OR (Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1)</td>
</tr>
<tr>
<td><code class="language-text">GE</code></td>
<td>Signed greater than or equal</td>
<td>N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>V</td>
</tr>
<tr>
<td><code class="language-text">LT</code></td>
<td>Signed less than</td>
<td>N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">≠</mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span></span>V</td>
</tr>
<tr>
<td><code class="language-text">GT</code></td>
<td>Signed greater than</td>
<td>(Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>0) AND (N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>V)</td>
</tr>
<tr>
<td><code class="language-text">LE</code></td>
<td>Signed less than or equal</td>
<td>(Z<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span></span>1) OR (N<span class="math math-inline"><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">≠</mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span></span>V)</td>
</tr>
<tr>
<td><code class="language-text">AL</code> (or omitted)</td>
<td>Always executed</td>
<td>None</td>
</tr>
</tbody>
</table>
<p>In the instruction examples <code class="language-text">&lt;c></code> is used to indicate that one of the conditional
suffixes can be used.</p>
<h2 id="instruction-width-qualifier">Instruction Width Qualifier</h2>
<p>This assembler qualifier is used to select a 16-bit
or 32-bit instruction encoding.</p>
<p><code class="language-text">.N</code>: Narrow: Assembler must select a 16-bit instruction.</p>
<p><code class="language-text">.W</code>: Wide: Assembler must select a 32-bit instruction.</p>
<p>If the instruction is not available in the requested encoding the
assembler produces an error.</p>
<p>If no qualifier is given the assembler selects the 16-bit encoding if it
is available.</p>
<p>In the instruction examples <code class="language-text">&lt;q></code> is used to indicate that <code class="language-text">.N</code> or <code class="language-text">.W</code> can be used.</p>
<h2 id="data-transfer-commands">Data Transfer Commands</h2>
<h3 id="move-data-between-registers-mov-mvn">Move Data between Registers (<code class="language-text">MOV</code>, <code class="language-text">MVN</code>)</h3>
<p>Moves a value (or it’s negated value) from one register to an other.</p>
<p>Moving immediate value directly into a register is also possible.</p>
<p>There are also command for moving shifted data. In this case
the <code class="language-text">MOV</code> commands are aliases for the shifting commands.</p>
<h4 id="immediate">Immediate</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MOVS <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>     <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
MOV<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>   <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
MOV{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
MOVW<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm16<span class="token operator">></span></code></pre></div>
<h4 id="register">Register</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MOV<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
MOVS <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
MOV{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<p>Examples:</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MOV <span class="token register variable">R3</span>, <span class="token register variable">R2</span><span class="token comment">; /* Move the value from R2 to R3 */</span>
MVN <span class="token register variable">R5</span>, <span class="token register variable">R6</span><span class="token comment">; /* Move the negated value of R6 to R5 */</span></code></pre></div>
<h4 id="move-to-top-half-word-of-register-movt">Move to top half-word of Register (<code class="language-text">MOVT</code>)</h4>
<p>Moves an immediate value to the top half of the given register. The
bottom half of the register is not written.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MOVT<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, #<span class="token operator">&lt;</span>imm16<span class="token operator">></span></code></pre></div>
<h4 id="move-special-register-to-register-mrs">Move Special Register to Register (<code class="language-text">MRS</code>)</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MRS<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>spec_reg<span class="token operator">></span></code></pre></div>
<p><code class="language-text">MRS</code> is a system level instruction except when accessing the <em>APSR</em> or <em>CONTROL</em> register.</p>
<h4 id="move-register-to-special-register-msr">Move Register to Special Register (<code class="language-text">MSR</code>)</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MSR<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>spec_reg<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span></code></pre></div>
<p><code class="language-text">MRS</code> is a system level instruction except when accessing the <em>APSR</em> or <em>CONTROL</em> register.</p>
<h3 id="move-data-between-register-and-memory">Move Data between Register and Memory</h3>
<p>The basic commands for moving data to and from memory are store and load.
They exist with different operand sizes (byte, half word, word and double word).</p>
<p>With some commands a register operand can be updated after the operation with <code class="language-text">!</code>. If it’s
available it is optional.</p>
<p>There are commands for storing or loading multiple registers at once.</p>
<h2 id="arithmetic-commands">Arithmetic Commands</h2>
<h3 id="addition-add">Addition (<code class="language-text">ADD</code>)</h3>
<p>Adds two values.</p>
<h4 id="immediate-1">Immediate</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADDS <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm3<span class="token operator">></span>         <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm3<span class="token operator">></span>       <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADDS <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>             <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>           <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
ADDW<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm12<span class="token operator">></span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,  #<span class="token operator">&lt;</span>const<span class="token operator">></span>
ADDW<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,  #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-1">Register</h4>
<p>The second register operand can be shifted.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADDS <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>     <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>   <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>{,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,}  <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h4 id="sp-plus-immediate"><em>SP</em> plus Immediate</h4>
<p>Adds an immediate value to the <em>SP</em>, writes the result to the destination register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token register variable">SP</span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token register variable">SP</span>,<span class="token register variable">SP</span>,#<span class="token operator">&lt;</span>imm7<span class="token operator">></span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token register variable">SP</span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
ADDW<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token register variable">SP</span>,#<span class="token operator">&lt;</span>imm12<span class="token operator">></span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token register variable">SP</span>, #<span class="token operator">&lt;</span>const<span class="token operator">></span>
ADDW<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token register variable">SP</span>, #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="sp-plus-register"><em>SP</em> plus Register</h4>
<p>Adds an (optionally-shifted) register value to the <em>SP</em>,
writes the result to the destination register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdm<span class="token operator">></span>, <span class="token register variable">SP</span>, <span class="token operator">&lt;</span>Rdm<span class="token operator">></span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token register variable">SP</span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token register variable">SP</span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>{,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
ADD{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token register variable">SP</span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span>{, <span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h3 id="addition-with-carry-adc">Addition with Carry (<code class="language-text">ADC</code>)</h3>
<p>Adds values with carry.</p>
<h4 id="immediate-2">Immediate</h4>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>  <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-2">Register</h4>
<p>The register operand can be shifted.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADCS <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>     <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADC<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>   <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ADC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>{,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
ADC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,}  <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h3 id="multiply-mul">Multiply (<code class="language-text">MUL</code>)</h3>
<p>Multiplies two registers. The least significant 32-bits
are copied to the destination register.</p>
<p>Can update flags.</p>
<blockquote>
<p>Writing flags can reduce performance!</p>
</blockquote>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">MULS <span class="token operator">&lt;</span>Rdm<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rdm<span class="token operator">></span>    <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
MUL<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdm<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rdm<span class="token operator">></span>  <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
MUL<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
MUL{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,  <span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<h2 id="logical-commands">Logical Commands</h2>
<h3 id="and-and">And (<code class="language-text">AND</code>)</h3>
<h4 id="immediate-3">Immediate</h4>
<p>Bit-wise <em>AND</em> of register and immediate value.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">AND{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>  <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
AND{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,  #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-3">Register</h4>
<p>Bit-wise <em>AND</em> of a register and a second (optionally-shifted) register.
The flags can be updated based on the result.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ANDS<span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>                       <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
AND<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>                    <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
AND{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>{,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
AND{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h2 id="bit-commands">Bit Commands</h2>
<h3 id="bit-field-clear-bfc">Bit Field Clear (<code class="language-text">BFC</code>)</h3>
<p>Clear a number of adjacent bits in a register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BFC<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, #<span class="token operator">&lt;</span>lsb<span class="token operator">></span>, #<span class="token operator">&lt;</span>width<span class="token operator">></span></code></pre></div>
<p>Where:</p>
<p><code class="language-text">&lt;lsb></code>: The least significant bit that is cleared (Range: 0-31).</p>
<p><code class="language-text">&lt;width></code>: Number of bits to clear.</p>
<h3 id="bit-field-insert-bfi">Bit Field Insert (<code class="language-text">BFI</code>)</h3>
<p>Insert given number of the lowest bits from source register to
a given position in the destination register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BFI<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span><span class="token operator">&lt;</span>Rd<span class="token operator">></span>, <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, #<span class="token operator">&lt;</span>lsb<span class="token operator">></span>, #<span class="token operator">&lt;</span>width<span class="token operator">></span></code></pre></div>
<p><code class="language-text">&lt;lsb></code>: The least significant bit in destination where bits are copied to (Range: 0-31).</p>
<p><code class="language-text">&lt;width></code>: Number of bits to copy from source.</p>
<h3 id="bit-clear-bic">Bit Clear (<code class="language-text">BIC</code>)</h3>
<h4 id="immediate-4">Immediate</h4>
<p>Performs a bit-wise <em>AND</em> of register and the complement of the immediate
value.</p>
<p>The flags can be updated.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BIC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>  <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
BIC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,} <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,  #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-4">Register</h4>
<p>Performs a bit-wise <em>AND</em> one register and the complement of a second register.
The second register can be shifted.</p>
<p>The flags can be updated.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BICS<span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>    <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
BIC<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span> <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
BIC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>{,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
BIC{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> {<span class="token operator">&lt;</span>Rd<span class="token operator">></span>,}  <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h3 id="count-leading-zeros-clz">Count Leading Zeros (<code class="language-text">CLZ</code>)</h3>
<p>Returns the number of leading zero bits of a register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CLZ<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<h2 id="shift-and-rotate-commands">Shift and Rotate Commands</h2>
<h3 id="arithmetic-shift-right-asr">Arithmetic Shift Right (<code class="language-text">ASR</code>)</h3>
<h4 id="immediate-5">Immediate</h4>
<p>Shifts a register right by an immediate value. Shifts in copies
of it’s <em>sign bit</em>.</p>
<p>Can update flags.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ASRS <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm5<span class="token operator">></span>    <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ASR<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm5<span class="token operator">></span>  <span class="token operator">/</span><span class="token operator">*</span>Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ASR{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm5<span class="token operator">></span>
ASR{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span>,  #<span class="token operator">&lt;</span>imm5<span class="token operator">></span></code></pre></div>
<h4 id="register-5">Register</h4>
<p>Shifts a register by a variable number of bits, shifting in copies
of it’s sing flag. The number of bits
to shift is read from the <em>bottom byte</em> of a register.</p>
<p>Flags can be set.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ASRS<span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>             <span class="token operator">/</span><span class="token operator">*</span> Outside IT block <span class="token operator">*</span><span class="token operator">/</span>
ASR<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rdn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>          <span class="token operator">/</span><span class="token operator">*</span> Inside IT block <span class="token operator">*</span><span class="token operator">/</span>
ASR{S}<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>
ASR{S}<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<h2 id="compare-commands">Compare Commands</h2>
<h3 id="compare-cmp">Compare (<code class="language-text">CMP</code>)</h3>
<h4 id="immediate-6">Immediate</h4>
<p>Compare values by subtracting an immediate value from a register.</p>
<p>Updates the flags but discards result.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CMP<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>imm8<span class="token operator">></span>
CMP<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
CMP<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-6">Register</h4>
<p>Compare values by subtracting an (optionally shifted) register
from an other register.</p>
<p>Updates the flags but discards result.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CMP<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>Rm<span class="token operator">></span>    <span class="token operator">/</span><span class="token operator">*</span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span> and <span class="token operator">&lt;</span>Rm<span class="token operator">></span> both from <span class="token register variable">R0</span><span class="token operator">-</span><span class="token register variable">R7</span> <span class="token operator">*</span><span class="token operator">/</span>
CMP<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}
CMP<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h3 id="compare-negative-cmn">Compare Negative (<code class="language-text">CMN</code>)</h3>
<h4 id="immediate-7">Immediate</h4>
<p>Compare values by <strong>adding</strong> a register and an immediate value.</p>
<p>Updates the flags but discards result.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CMN<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,#<span class="token operator">&lt;</span>const<span class="token operator">></span>
CMN<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, #<span class="token operator">&lt;</span>const<span class="token operator">></span></code></pre></div>
<h4 id="register-7">Register</h4>
<p>Compare values by <strong>adding</strong> to registers. The second register
can be shifted.</p>
<p>Updates the flags but discards result.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CMN<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span>
CMN<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span>{, <span class="token operator">&lt;</span>shift<span class="token operator">></span>}
CMN<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>Rm<span class="token operator">></span> {,<span class="token operator">&lt;</span>shift<span class="token operator">></span>}</code></pre></div>
<h2 id="branch-commands">Branch Commands</h2>
<ul>
<li><code class="language-text">B</code>: Branch (immediate)</li>
<li><code class="language-text">BL</code>: Branch with link (immediate)</li>
<li><code class="language-text">BX</code>: Branch indirect (register)</li>
<li><code class="language-text">BLX</code>: Branch indirect with link (register)</li>
</ul>
<p>All these branch to a label, or to an address given by the operand.</p>
<p>In addition:</p>
<ul>
<li>The <code class="language-text">BL</code> and <code class="language-text">BLX</code> instructions write the address of the next instruction to <em>LR</em>.</li>
<li>The <code class="language-text">BX</code> and <code class="language-text">BLX</code> instructions can change the instruction set (ARM ↔ Thumb).</li>
</ul>
<blockquote>
<p>The <code class="language-text">BX</code> and <code class="language-text">BLX</code> instructions result in a <em>UsageFault</em> exception on the M3 if bit[0] of the target address is 0.</p>
</blockquote>
<p><code class="language-text">B</code> is the only conditional instruction that can be inside or outside an <em>IT</em> block.
All other branch instructions can only be conditional inside an <em>IT</em> block, and are always unconditional otherwise.</p>
<h3 id="branch-b">Branch (<code class="language-text">B</code>)</h3>
<p>Branch to a target addressed.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">B<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>label<span class="token operator">></span>
B<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>label<span class="token operator">></span>
B<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>label<span class="token operator">></span></code></pre></div>
<h3 id="branch-with-link-bl">Branch with Link (<code class="language-text">BL</code>)</h3>
<p>Calls a function at PC-relative address.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm"><span class="token register variable">BL</span><span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>label<span class="token operator">></span></code></pre></div>
<p><code class="language-text">&lt;label></code>: The label to jump to. The assembler calculates the offset
of the <code class="language-text">BL</code> instruction and the label.</p>
<h3 id="branch-and-exchange-bx">Branch and Exchange (<code class="language-text">BX</code>)</h3>
<p>Calls a function at an address and instruction set (ARM/Thumb) specified in a register.</p>
<p>It’s the same as <code class="language-text">BXL</code> but it <strong>doesn’t save</strong> the next instruction in <em>LR</em>.</p>
<blockquote>
<p>Be aware that the Cortex-M3 only supports Thumb! (see <code class="language-text">BLX</code>)</p>
</blockquote>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm"><span class="token register variable">BX</span><span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rm<span class="token operator">></span>   <span class="token operator">/</span><span class="token operator">*</span> Outside or last in IT block <span class="token operator">*</span><span class="token operator">/</span>
<span class="token register variable">BX</span><span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<p>Exceptions: UsageFault</p>
<h3 id="branch-with-link-and-exchange-blx">Branch with Link and Exchange (<code class="language-text">BLX</code>)</h3>
<p>Calls a function at an address and instruction set (ARM/Thumb) specified in a register.</p>
<p>It saves the next instruction (after <code class="language-text">BLX</code>) in <em>LR</em>.</p>
<blockquote>
<p>Be aware that the Cortex-M3 only supports Thumb! An attempt to change to ARM Mode will
cause an <em>UsageFault</em> exception.</p>
</blockquote>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BLX<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rm<span class="token operator">></span>          <span class="token operator">/</span><span class="token operator">*</span> Outside or last in IT block <span class="token operator">*</span><span class="token operator">/</span>
BLX<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rm<span class="token operator">></span></code></pre></div>
<p>Exceptions: UsageFault</p>
<h2 id="compare-and-branch-commands">Compare and Branch Commands</h2>
<h3 id="compare-and-branch-on-non-zero-and-compare-and-branch-on-zero-cbnzcbz">Compare and Branch on Non-Zero and Compare and Branch on Zero (<code class="language-text">CBNZ</code>,<code class="language-text">CBZ</code>)</h3>
<p>Compares the value in register with zero, and conditionally branches <em>forward</em> a constant value.
The condition flags are not affected.</p>
<blockquote>
<p>these instructions are not allowed inside an <em>IT</em> block.</p>
</blockquote>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">CB{N}Z <span class="token operator">&lt;</span>Rn<span class="token operator">></span>,<span class="token operator">&lt;</span>label<span class="token operator">></span>    <span class="token operator">/</span><span class="token operator">*</span> Not permitted in IT block <span class="token operator">*</span><span class="token operator">/</span>
CB{N}Z<span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rn<span class="token operator">></span>, <span class="token operator">&lt;</span>label<span class="token operator">></span></code></pre></div>
<p><code class="language-text">&lt;Rn></code>: Register must be in range <em>R0</em> - <em>R7</em>.</p>
<p><code class="language-text">&lt;label></code>: The assembler calculates the offset from the <code class="language-text">CB{N}Z</code> instruction to the label.
Permitted offsets are even numbers in the range 0 to 126.</p>
<h2 id="other-commands">Other Commands</h2>
<h3 id="calculate-address-adr">Calculate Address (<code class="language-text">ADR</code>)</h3>
<p>Calculate <em>PC</em> relative address.</p>
<p>Add immediate value to <em>PC</em> and store result in register.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">ADR<span class="token operator">&lt;</span>c<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>label<span class="token operator">></span>
ADR<span class="token operator">&lt;</span>c<span class="token operator">></span>.W <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,<span class="token operator">&lt;</span>label<span class="token operator">></span> <span class="token operator">/</span><span class="token operator">*</span> <span class="token operator">&lt;</span>label<span class="token operator">></span> before current instruction <span class="token operator">*</span><span class="token operator">/</span>
SUB <span class="token operator">&lt;</span>Rd<span class="token operator">></span>,PC,#<span class="token number">0</span>.       <span class="token operator">/</span><span class="token operator">*</span> Special case for zero offset <span class="token operator">*</span><span class="token operator">/</span>
ADR<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, <span class="token operator">&lt;</span>label<span class="token operator">></span>
ADD<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, PC,  #<span class="token operator">&lt;</span>const<span class="token operator">></span>
SUB<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span> <span class="token operator">&lt;</span>Rd<span class="token operator">></span>, PC,  #<span class="token operator">&lt;</span>const<span class="token operator">></span> <span class="token operator">/</span><span class="token operator">*</span> Special case <span class="token operator">*</span><span class="token operator">/</span></code></pre></div>
<h3 id="break-point-bkpt">Break-point (<code class="language-text">BKPT</code>)</h3>
<p>Causes a <em>DebugMonitor</em> exception or a debug halt.</p>
<p>It is a unconditional instruction and can be executed inside or
outside an <em>TI</em> block.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">BKPT<span class="token operator">&lt;</span>q<span class="token operator">></span>#<span class="token operator">&lt;</span>imm8<span class="token operator">></span></code></pre></div>
<p><code class="language-text">&lt;imm8></code> is a 8-bit value that is ignored by the hardware
but can be used to store some information by a debugger.</p>
<p>Exceptions: <em>DebugMonitor</em></p>
<h3 id="debug-hint-dbg">Debug Hint (<code class="language-text">DBG</code>)</h3>
<p>Provides a hint to debug and trace systems.
The debug architecture defines the use (if any).</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">DBG<span class="token operator">&lt;</span>c<span class="token operator">></span><span class="token operator">&lt;</span>q<span class="token operator">></span>#<span class="token operator">&lt;</span>option<span class="token operator">></span>
<span class="token operator">/</span><span class="token operator">/</span> Any decoding of <span class="token string">'option'</span> is specified by the debug system</code></pre></div>
<h3 id="no-operation-nop">No Operation (<code class="language-text">NOP</code>)</h3>
<p>The NOP does nothing.</p>
<div class="gatsby-highlight" data-language="nasm"><pre class="language-nasm"><code class="language-nasm">NOP<span class="token operator">&lt;</span>c<span class="token operator">></span>
NOP<span class="token operator">&lt;</span>c<span class="token operator">></span>.W</code></pre></div></section><hr/></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" rel="prev" href="/intel_architecture">← <!-- -->Intel Architecture</a></li><li><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-15kjgm" rel="next" href="/arrays_c_cpp">Arrays in C and C++<!-- --> →</a></li></ul></nav></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-md-2 css-g65o49"><ul class="MuiList-root MuiList-padding css-1ontqvh" data-test="metadata-sidebar"><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiListItemText-root css-1tsvksn"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Category</p></div></li><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1 css-tuxzvu"><div class="MuiGrid-root MuiGrid-item css-1wxaqej"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeMedium MuiChip-colorDefault MuiChip-outlinedDefault css-10f1en8"><span class="MuiChip-label MuiChip-labelMedium css-9iedg7">Programming</span></div></div></div></li><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiListItemText-root css-ayb3n0"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Tags</p></div></li><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1 css-tuxzvu"><div class="MuiGrid-root MuiGrid-item css-1wxaqej"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-wk4je1"><span class="MuiChip-label MuiChip-labelMedium css-9iedg7">Computer Science</span></div></div><div class="MuiGrid-root MuiGrid-item css-1wxaqej"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-wk4je1"><span class="MuiChip-label MuiChip-labelMedium css-9iedg7">Assembler</span></div></div><div class="MuiGrid-root MuiGrid-item css-1wxaqej"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-wk4je1"><span class="MuiChip-label MuiChip-labelMedium css-9iedg7">Embedded Systems</span></div></div></div></li><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiListItemText-root css-1tsvksn"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Created</p></div></li><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd" data-test="created-date"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">3. July 2015</p></li><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd"><div class="MuiListItemText-root css-1tsvksn"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">Modified</p></div></li><li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding css-1yo8bqd" data-test="modified-date"><p class="MuiTypography-root MuiTypography-body1 css-9l3uo3">17. March 2022</p></li><hr class="MuiDivider-root MuiDivider-fullWidth css-39bbo6"/></ul></div></div><div style="flex:1 0 auto"></div><div style="display:flex"><div role="group" class="MuiButtonGroup-root MuiButtonGroup-outlined css-12hl9jz" aria-label="social media links"><span class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeMedium css-39nlm1" tabindex="0" role="button"><a href="https://www.linkedin.com/in/lukaswoodtli" target="_blank" rel="noreferrer" data-testid="footer-icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></span><span class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeMedium css-39nlm1" tabindex="0" role="button"><a href="https://github.com/LukasWoodtli" target="_blank" rel="noreferrer" data-testid="footer-icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span><span class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeMedium css-39nlm1" tabindex="0" role="button"><a href="https://stackoverflow.com/cv/lukaswoodtli" target="_blank" rel="noreferrer" data-testid="footer-icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="stack-overflow" class="svg-inline--fa fa-stack-overflow " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg></a></span><span class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeMedium css-39nlm1" tabindex="0" role="button"><a href="https://www.xing.com/profile/Lukas_Woodtli" target="_blank" rel="noreferrer" data-testid="footer-icon"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="xing" class="svg-inline--fa fa-xing " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M162.7 210c-1.8 3.3-25.2 44.4-70.1 123.5-4.9 8.3-10.8 12.5-17.7 12.5H9.8c-7.7 0-12.1-7.5-8.5-14.4l69-121.3c.2 0 .2-.1 0-.3l-43.9-75.6c-4.3-7.8 .3-14.1 8.5-14.1H100c7.3 0 13.3 4.1 18 12.2l44.7 77.5zM382.6 46.1l-144 253v.3L330.2 466c3.9 7.1 .2 14.1-8.5 14.1h-65.2c-7.6 0-13.6-4-18-12.2l-92.4-168.5c3.3-5.8 51.5-90.8 144.8-255.2 4.6-8.1 10.4-12.2 17.5-12.2h65.7c8 0 12.3 6.7 8.5 14.1z"></path></svg></a></span><span class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorPrimary MuiIconButton-sizeMedium css-39nlm1" tabindex="0" role="button"><a href="mailto:woodtli.lukas@gmail.com" target="_blank" rel="noreferrer" data-testid="footer-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"></path></svg></a></span></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/arm_cortex_m3_architecture";window.___webpackCompilationHash="ebf77f862b7caaf39f5d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2ea6980a4a844f594507.js"],"app":["/app-1e714a6ebf09e0da48c3.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-4a54349431a77acbcb60.js"],"component---src-pages-dummy-page-tsx":["/component---src-pages-dummy-page-tsx-49f69df69eddcd0d90a0.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-590dafc8deabc80a2e4b.js"],"component---src-templates-blog-index-tsx":["/component---src-templates-blog-index-tsx-f5132ade79a19e489dbc.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx-ddb853013b61ea1d756e.js"],"component---src-templates-static-site-js":["/component---src-templates-static-site-js-29e2f2fbd50d0473ba69.js"]};/*]]>*/</script><script src="/polyfill-2ea6980a4a844f594507.js" nomodule=""></script><script src="/component---src-templates-blog-post-tsx-ddb853013b61ea1d756e.js" async=""></script><script src="/022d3153bf09c36cd784dcdb36ffbd187f9c96d7-175be7054cf5d76b4c7b.js" async=""></script><script src="/commons-b9a963f19e0fdcc43084.js" async=""></script><script src="/a9a7754c-7e51f9bc3504726fa9e4.js" async=""></script><script src="/cb1608f2-8b21232f8956c9e9594e.js" async=""></script><script src="/app-1e714a6ebf09e0da48c3.js" async=""></script><script src="/dc6a8720040df98778fe970bf6c000a41750d3ae-da54993d5e5aa0da12f7.js" async=""></script><script src="/framework-137a6963f263188333cb.js" async=""></script><script src="/webpack-runtime-1b3e5728f3c07f383689.js" async=""></script></body></html>