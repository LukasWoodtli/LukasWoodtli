<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Lukas Woodtli">
    <meta name="author" content="Lukas Woodtli">

        <title>Concepts of Object Oriented Programming · Lukas Woodtli</title>


    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">

    <link rel="stylesheet" href="http://bootswatch.com/yeti/bootstrap.min.css" type="text/css">

    <link rel="stylesheet" href="http://lukaswoodtli.github.io/theme/css/main.css">

    <link rel="stylesheet" href="http://lukaswoodtli.github.io/theme/css/solarized-light.css">


    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="container" id="wrap">
      <nav id="navbar" class="navbar navbar-default" role="navigation">
    <div class="container">

      <!--navbar-header-->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://lukaswoodtli.github.io">Lukas Woodtli</a>
      </div> <!--navbar-header-->

      <!-- Search Box -->

      <!--Menuitems, collapable-->
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right" id="menuitem-list">
                <li >
                  <a href="http://lukaswoodtli.github.io/index.html">Home</a>
                </li>

                <li >
                  <a href="http://lukaswoodtli.github.io/pages/cv.html">CV</a>
                </li>

              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Skills<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/skills.html">Hard Skills</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/courses.html">Courses</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/books.html">Books</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/projects.html">Projects</a>
                  </li>
                </ul>
              </li>
              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Blog<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="http://lukaswoodtli.github.io/pages/blog.html">Blog Index</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/categories.html">Categories</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/tags.html">Tags</a>
                  </li>
                  <li >
                    <a href="http://lukaswoodtli.github.io/archives.html">Chronological</a>
                  </li>
                </ul>
              </li>
                <li >
                  <a href="http://lukaswoodtli.github.io/pages/contact.html">Contact</a>
                </li>

        </ul>
      </div><!-- /.navbar-collapse -->

    </div> <!--container-->
  </nav>


    <div class="container">
      <div class="col-md-2">
      </div>

      <div class="col-md-8">
        <div class="row">
              <div class="page-header">
        <h1><a href="http://lukaswoodtli.github.io/concepts_of_object_oriented_programming.html">Concepts of Object Oriented Programming</a></h1>
    </div>

        </div>

        <div class="row">

    <span id="article_info">
    <a class="label label-primary" 
      href="http://lukaswoodtli.github.io/category/programming.html">Programming</a>
      <b> · </b>
        <a class="label label-primary" 
          href="http://lukaswoodtli.github.io/tag/cpp.html">C++</a>
        <a class="label label-primary" 
          href="http://lukaswoodtli.github.io/tag/python.html">Python</a>
    <!--<span class="glyphicon glyphicon-calendar"></span>-->
      <b> · </b>
      <a href="http://lukaswoodtli.github.io/archives.html#Year2015">2015</a>-<a href="http://lukaswoodtli.github.io/archives.html#Year2015Month07">07</a>-<a href="http://lukaswoodtli.github.io/archives.html#Year2015Month07">27</a>

    <!--<span class="glyphicon glyphicon-user"></span>-->
      <b> · </b>
    <a href="http://lukaswoodtli.github.io/author/lukas_woodtli.html">Lukas Woodtli</a>
  </span>

  <hr/>

  <div id="article_content">
    <div class="toc">
<ul>
<li><a href="#the-object-model">The Object Model</a><ul>
<li><a href="#interfaces-and-encapsulation">Interfaces and Encapsulation</a></li>
<li><a href="#classification-and-polymorphism">Classification and Polymorphism</a><ul>
<li><a href="#classification">Classification</a></li>
<li><a href="#polymorphism">Polymorphism</a><ul>
<li><a href="#subtype-polymorphism">Subtype Polymorphism</a></li>
<li><a href="#parametric-polymorphism">Parametric Polymorphism</a></li>
<li><a href="#method-overloading">Method Overloading</a></li>
</ul>
</li>
<li><a href="#spezialization">Spezialization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#types-and-subtyping">Types and Subtyping</a><ul>
<li><a href="#types">Types</a><ul>
<li><a href="#weak-and-strong-type-systems">Weak and Strong Type Systems</a><ul>
<li><a href="#untyped-languages">Untyped Languages</a></li>
<li><a href="#weakly-typed-languages">Weakly Typed Languages</a></li>
<li><a href="#strongly-typed-languages">Strongly Typed Languages</a></li>
</ul>
</li>
<li><a href="#nominal-and-structural-types">Nominal and Structural Types</a><ul>
<li><a href="#nominal-types">Nominal Types</a></li>
<li><a href="#structural-types">Structural Types</a></li>
</ul>
</li>
<li><a href="#type-checking">Type Checking</a><ul>
<li><a href="#static-type-checking">Static Type Checking</a></li>
<li><a href="#dynamic-type-checking">Dynamic Type Checking</a></li>
</ul>
</li>
<li><a href="#overview-of-type-systems-in-oo-languages">Overview of Type Systems in OO-Languages</a></li>
</ul>
</li>
<li><a href="#subtyping">Subtyping</a><ul>
<li><a href="#variance-covariance-contravariance-and-invariance">Variance (Covariance, Contravariance and Invariance)</a><ul>
<li><a href="#covariance">Covariance</a></li>
<li><a href="#contravariance">Contravariance</a></li>
<li><a href="#variance-for-oop">Variance for OOP</a></li>
</ul>
</li>
<li><a href="#behavioral-subtyping-contracts">Behavioral Subtyping (Contracts)</a><ul>
<li><a href="#subtyping-and-contracs">Subtyping and Contracs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#inheritance">Inheritance</a><ul>
<li><a href="#difference-between-inheritance-and-subtyping">Difference between inheritance and subtyping</a></li>
</ul>
</li>
<li><a href="#aggregation-vs-private-inheritance-c">Aggregation vs. Private Inheritance (C++)</a></li>
<li><a href="#static-and-dynamic-method-binding">Static and Dynamic Method Binding</a></li>
<li><a href="#rules-for-proper-subclassing">Rules for proper Subclassing</a></li>
</ul>
</li>
<li><a href="#binary-methods">Binary Methods</a></li>
<li><a href="#multiple-inheritance">Multiple Inheritance</a><ul>
<li><a href="#problems-with-multiple-inheritance">Problems with multiple inheritance</a></li>
</ul>
</li>
<li><a href="#mixins-and-traits">Mixins and Traits</a></li>
</ul>
</div>
<h1 id="the-object-model">The Object Model</h1>
<ul>
<li>A software system is a set of cooperating objects</li>
<li>Objects have state (fields) and processing ability (methods)</li>
<li>Objects exchange messages (methods)</li>
</ul>
<p>Objects have:</p>
<ul>
<li>State</li>
<li>Identity</li>
<li>Lifecycle</li>
<li>Location</li>
<li>Behavior</li>
</ul>
<h2 id="interfaces-and-encapsulation">Interfaces and Encapsulation</h2>
<ul>
<li>Objects have well-defined interfaces<ul>
<li>Publicly accessible fields</li>
<li>Publicly accessible methods</li>
</ul>
</li>
<li>Implementation is hidden behind interface<ul>
<li>Encapsulation</li>
<li>Information hiding</li>
</ul>
</li>
<li>Interfaces are the basis for describing behavior</li>
</ul>
<h2 id="classification-and-polymorphism">Classification and Polymorphism</h2>
<ul>
<li>Classification: Hierarchical structuring of objects</li>
<li>Objects belong to different classes simultaneously</li>
<li><em>Substitution principle</em>: Subtype objects can be used wherever supertype objects are expected</li>
</ul>
<h3 id="classification">Classification</h3>
<ul>
<li>We can classify objects or fields (?)</li>
<li>Classifications can be <em>trees</em> or <em>DAGs</em></li>
<li>Classifications of objects form “is-a” relation</li>
<li>Classes can be abstract or concrete</li>
</ul>
<blockquote>
<p>Substitution Principle: Objects of subtypes can be used wherever
objects of supertypes are expected</p>
</blockquote>
<h3 id="polymorphism">Polymorphism</h3>
<h4 id="subtype-polymorphism">Subtype Polymorphism</h4>
<ul>
<li>Direct consequence of substitution principle</li>
<li>Run-time (dynamic) Polymorphism</li>
<li>Dynamic (late) binding</li>
</ul>
<h4 id="parametric-polymorphism">Parametric Polymorphism</h4>
<ul>
<li>Generic types</li>
<li>Uses <em>type parameters</em></li>
<li>One implementation can be used for different types</li>
<li>Type missmatch detected at compile time</li>
<li>i.e C++ Templates</li>
</ul>
<h4 id="method-overloading">Method Overloading</h4>
<ul>
<li>Ad-Hoc Polymorphism</li>
<li>Methods with same name but different arguments</li>
</ul>
<h3 id="spezialization">Spezialization</h3>
<ul>
<li>Start from general objects/types</li>
<li>Extend these objecs (fields and methods)</li>
<li>Behaviour of specialized objects need to be compliant to more general objects! (Substitution Principle)</li>
<li>Progam parts that work for the genral objects work also for specialized objects</li>
</ul>
<h1 id="types-and-subtyping">Types and Subtyping</h1>
<h2 id="types">Types</h2>
<p>Type systems can be analyzed in three dimensions:</p>
<ol>
<li>Weak and Strong Type Systems</li>
<li>Nominal and Structural Types</li>
<li>Static and Dynamic Type Checking</li>
</ol>
<h3 id="weak-and-strong-type-systems">Weak and Strong Type Systems</h3>
<p>How strongly or weakly typed a language is concerns casting (implicit and explicit).
It's mainly used to compare languages to each other about the possible castings, type safety and information loss.</p>
<h4 id="untyped-languages">Untyped Languages</h4>
<ul>
<li>Not classifying values into types</li>
<li>i.e. Assembler</li>
</ul>
<h4 id="weakly-typed-languages">Weakly Typed Languages</h4>
<ul>
<li>Classifying values into types</li>
<li>No strict enforcement of restrictions</li>
<li>i.e. C, C++</li>
</ul>
<h4 id="strongly-typed-languages">Strongly Typed Languages</h4>
<ul>
<li>Enforcing that all operations are applied to values of appropriate type</li>
<li>Strongly-typed languages prevent certain erroneous or undesirable program behavior</li>
<li>i.e. Java, Python, Scala, Smalltalk, Eiffel, C#</li>
</ul>
<h3 id="nominal-and-structural-types">Nominal and Structural Types</h3>
<h4 id="nominal-types">Nominal Types</h4>
<ul>
<li>Based on type names</li>
<li>i.e. C++, Java, Eiffel, Scala</li>
</ul>
<h4 id="structural-types">Structural Types</h4>
<ul>
<li>Based on available methods and fields</li>
<li>i.e. Python, Ruby, Smalltals</li>
</ul>
<h3 id="type-checking">Type Checking</h3>
<h4 id="static-type-checking">Static Type Checking</h4>
<ul>
<li>Types of variables and methods are declared explicitly or inferred</li>
<li>Types of expressions can be derived from the types of their constituents</li>
<li>Type rules are used at compile time to check whether a program is correctly typed</li>
</ul>
<blockquote>
<p>A programming language is called type-safe if its design prevents type errors</p>
</blockquote>
<h4 id="dynamic-type-checking">Dynamic Type Checking</h4>
<ul>
<li>Variables, methods, and expressions of a program are typically not typed</li>
<li>Every object and value has a type</li>
<li>Run-time system checks that operations are applied to expected arguments</li>
<li>Static languages need to performe some checks dynamically at run-time (i.e type-casting)</li>
</ul>
<h3 id="overview-of-type-systems-in-oo-languages">Overview of Type Systems in OO-Languages</h3>
<table class="table table-hover table-striped">
<thead>
<tr>
<th></th>
<th>Static</th>
<th>Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nominal</td>
<td>C++, Java, Eiffel, Scala, C#</td>
<td>certain features of statically-typed languages</td>
</tr>
<tr>
<td>Structural</td>
<td>Research languages: O'Caml, Moby...</td>
<td>Python, JavaScript, Ruby, Smalltalk</td>
</tr>
</tbody>
</table>
<p>Dynamic and Structural is often called "duck typing".</p>
<h2 id="subtyping">Subtyping</h2>
<blockquote>
<p>Substitution  principle Objects of subtypes can be used wherever objects of supertypes are expected</p>
</blockquote>
<ul>
<li>
<p>Syntactic classification: Subtypes understand <em>at least the messages</em> of their supertypes.</p>
</li>
<li>
<p>Semantic classification: Subtypes provide <em>at least the behaviour</em> of their supertypes.</p>
</li>
</ul>
<h3 id="variance-covariance-contravariance-and-invariance">Variance (Covariance, Contravariance and Invariance)</h3>
<p>Based on substitution principle.</p>
<h4 id="covariance">Covariance</h4>
<p>Ordering of types from more specific to more generic (in direction of inheritance hierarchy)</p>
<p><img alt="Covariance" class="img-responsive" src="/images/covariance.svg"/></p>
<h4 id="contravariance">Contravariance</h4>
<p>Ordering of types from more generic to more specific (in oposite direction of inheritance hierarchy)</p>
<p><img alt="Contravariance" class="img-responsive" src="/images/contravariance.svg"/></p>
<h4 id="variance-for-oop">Variance for OOP</h4>
<p><a href="https://class.coursera.org/progfun-005/lecture/83">Coursera:Scala</a></p>
<ul>
<li>Contravariance: Input Arguments</li>
<li>Covariance: Return Values and Exceptions</li>
<li>
<p>Invariance: In- and Output Arguments (Mutable Reference Arguments)</p>
<p>:::CPP
SuperReturnType Super::foo(SubParamType p); |         ^ contra-
//   ..                       ^             |         | variant
//   v                        ..            | co-     |
SubReturnType   Sub::foo(SuperParamType p); v variant |</p>
</li>
</ul>
<p><em>Super</em> is more general than <em>Sub</em>.</p>
<p><em>Sub</em> is more specific than <em>Super</em>.</p>
<table class="table table-hover table-striped">
<thead>
<tr>
<th>Programming Language</th>
<th>Argument Type</th>
<th>Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>C++, Java, Scala, D...</td>
<td>Invariant</td>
<td>Covariant</td>
</tr>
<tr>
<td>Eiffel</td>
<td>Covariant</td>
<td>Covariant</td>
</tr>
<tr>
<td>C#</td>
<td>Invariant</td>
<td>Invariant</td>
</tr>
</tbody>
</table>
<p>In Java and C# arrays are covariant!</p>
<h3 id="behavioral-subtyping-contracts">Behavioral Subtyping (Contracts)</h3>
<p>What are the <em>properties</em> shared by the values of a type?</p>
<p><em>Properties</em> should also include the behavior of the object.
This is expressed as interface specifications (contracts)</p>
<ul>
<li>Precondition: Have to hold before the method is executed</li>
<li>Postcondition: Have to hold after the method has terminated</li>
<li>Old-expressons: Can be used to refer to prestate values from the postcondition</li>
<li>Invariant: Have to hold in al states in which an object can be accessed by other objects</li>
</ul>
<h4 id="subtyping-and-contracs">Subtyping and Contracs</h4>
<ul>
<li>Subtypes must fulfill contracts of supertypes</li>
<li>Overriding method of subtypes may have <em>weaker preconditions</em> than the supertype method</li>
<li>Overriding method of subtypes may have <em>stronger postconditions</em> than the supertype method</li>
<li>Subtypes may have <em>stronger invariants</em> than supertypes</li>
<li>Subtypes may have <em>stronger history constrains</em> than supertype</li>
</ul>
<h2 id="inheritance">Inheritance</h2>
<h3 id="difference-between-inheritance-and-subtyping">Difference between inheritance and subtyping</h3>
<p>Inheritance allows to reuse the code (specialization) inside a class
(member variables and method definitions).</p>
<p>Subtyping supports reuse externally. It's used for polymorphism
in form of the substitution principle.</p>
<p>Subtyping expresses classification.</p>
<p>Subtypeing depends only on the interface of objects and not on their
implementations.</p>
<p>In most existing OOP languages inheritance also is subtyping.
C++ allows private (or protected) inheritance which does not result
in subtyping.
With interfaces (Java, C++...) it's possible to create subtypes
without inheritance (no reuse of code from parent class).
Usually the term "inherit from an interface" is used even if it's
not correct.</p>
<blockquote>
<p>Subclassing = Subtyping + Inheritance</p>
</blockquote>
<p>Inheritance is <em>not</em> a core concept of OOP.</p>
<p>OOP can do without inheritance, but not without subtyping!</p>
<h2 id="aggregation-vs-private-inheritance-c">Aggregation vs. Private Inheritance (C++)</h2>
<ul>
<li>Both solutions allow code reuse without establishing a subtype relation</li>
<li>No subtype polymorphism</li>
<li>No behavioral subtyping  equirements</li>
</ul>
<p>Aggregation causes more overhead</p>
<ul>
<li>Two objects at run-time</li>
<li>Boilerplate code for delegation</li>
<li>Access methods for protected fields</li>
</ul>
<p>Private inheritance may lead to unnecessary multiple inheritance</p>
<h2 id="static-and-dynamic-method-binding">Static and Dynamic Method Binding</h2>
<ul>
<li>Static binding: Methods are selected based on the <em>static type</em> of the
receiver <em>at compile time</em></li>
<li>Dynamic binding: Methods are selected based on the <em>dynamic type</em> of the
receiver object <em>at run time</em></li>
</ul>
<p>Dynamic method binding enables specialization and subtype polymorphism</p>
<p>Drawbacks</p>
<ul>
<li>Performance: Overhead of method look-up at run-time</li>
<li>Versioning: Dynamic binding makes it harder to evolve code
 without breaking subclasses</li>
</ul>
<p>Defaults</p>
<ul>
<li>Dynamic binding: Eiffel, Java, Scala, dynamically-typed languages</li>
<li>Static  binding: C++, C#</li>
</ul>
<h2 id="rules-for-proper-subclassing">Rules for proper Subclassing</h2>
<ul>
<li>Use subclassing only if there is an <em>'is-a'</em> relation<ul>
<li>Syntactic and behavioral subtypes</li>
</ul>
</li>
<li>Do not rely on implementation details</li>
<li>Use precise documentation (<em>contracts</em> where possible)</li>
<li>When evolving superclasses, <em>do not mess around with dynamically-bound methods</em></li>
<li>Do not add or remove calls, or change order of calls</li>
<li>Do not specialize superclasses that are expected to change often</li>
</ul>
<h1 id="binary-methods">Binary Methods</h1>
<p>Binary methods take one explicit argument and receiver (this)</p>
<p>Often behavior should be specialized depending on the dynamic types
of <em>both</em> arguments.</p>
<p>Recall that covariant parameter types are not statically type-safe! (?)</p>
<ul>
<li>Dynamic binding for specialization based on dynamic type of <em>receiver</em></li>
<li>How to specialize on the dynamic type of the <em>explicit argument</em>?</li>
<li>Visitor Pattern: tedious to write, requires modification of superclass</li>
</ul>
<p>Some Languages Support Multiple Dispatch:</p>
<p>Method calls are bound on dynamic types of several arguments.</p>
<ul>
<li>Performance overhead</li>
<li>Extra requirements are needed to ensure there is a “unique best method” for every call</li>
</ul>
<h1 id="multiple-inheritance">Multiple Inheritance</h1>
<p>All OOP languages support multiple subtyping:</p>
<ul>
<li>One type can have several supertypes</li>
<li>Subtype relation forms a DAG</li>
</ul>
<p>Some languages support multiple inheritance.</p>
<h2 id="problems-with-multiple-inheritance">Problems with multiple inheritance</h2>
<p>Ambiguities:</p>
<ul>
<li>Superclasses may contain fields and methods with identical names and signatures</li>
<li>Which version should be available in the subclass?</li>
</ul>
<p>Repeated inheritance (diamonds):</p>
<ul>
<li>A class may inherit from a superclass more than once</li>
<li>How many copies of the superclass members are there?</li>
<li>How are the superclass fields initialized?</li>
</ul>
<h1 id="mixins-and-traits">Mixins and Traits</h1>
  </div>

  <hr/>

      <ul class="pager">
        <li class="previous">
          <a href="http://lukaswoodtli.github.io/preprocessor_defines.html">
          &laquo; Newer</a>
        </li>
        <li class="next">
          <a href="http://lukaswoodtli.github.io/arrays_in_c_and_cpp.html">
          Older &raquo;</a>
        </li>
      </ul>


        </div>

        <div class="row">
        </div>

      </div>

      <div class="col-md-2">
      </div>
    </div>


  </div>

    <nav id="footer" class="navbar navbar-default">
    <div class="container">
        <p id="footer-text" class="navbar-text text-center">
          <span id="engine">
            Compiled using
            <a href="http://docs.getpelican.com">Pelican</a>
          </span>
          <span id="theme">
            with theme
            <a href="http://github.com/yuex/pelican-chameleon">Chameleon</a>
          </span>
          <span id="bootstrap">
            on top of
            <a href="http://getbootstrap.com/">Bootstrap</a>
          </span>
        </p>
      </div>
    </div>
  </nav>


</body>
</html>